exports.ids=[1],exports.modules=[,,,,,,,,,,,function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var s=i,c=Number(new Date),u=c-(n||c);s.diff=u,s.prev=n,s.curr=c,n=c,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;a++;var o=r.formatters[n];if("function"==typeof o){var i=t[a];e=o.call(s,i),t.splice(a,1),a--}return e}),r.formatArgs.call(s,t),(s.log||r.log).apply(s,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=o,i.extend=s,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function o(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function s(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var s=r.instances[t];s.enabled=r.enabled(s.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(29),Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},,,,,,function(e,t,n){var r=n(18),o=n(19),s=n(5),i=n(20),c=n(21),u=n(6).inherits,a=n(27)("https-proxy-agent");function l(e){if(!(this instanceof l))return new l(e);if("string"==typeof e&&(e=s.parse(e)),!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");a("creating new HttpsProxyAgent instance: %o",e),c.call(this,e);var t=Object.assign({},e);this.secureProxy=!!t.protocol&&/^https:?$/i.test(t.protocol),t.host=t.hostname||t.host,t.port=+t.port||(this.secureProxy?443:80),!this.secureProxy||"ALPNProtocols"in t||(t.ALPNProtocols=["http 1.1"]),t.host&&t.path&&(delete t.path,delete t.pathname),this.proxy=t,this.defaultPort=443}function f(e){e.resume()}e.exports=l,u(l,c),l.prototype.callback=function(e,t,n){var s,c=this.proxy;s=this.secureProxy?o.connect(c):r.connect(c);var u=[],l=0;function p(){var i=s.read();i?function(i){u.push(i),l+=i.length;var c=Buffer.concat(u,l),d=c.toString("ascii");if(!~d.indexOf("\r\n\r\n"))return a("have not received end of HTTP headers yet..."),void p();var v=d.substring(0,d.indexOf("\r\n")),C=+v.split(" ")[1];if(a("got proxy server response: %o",v),200==C){var y=s;u=c=null,t.secureEndpoint&&(a("upgrading proxy-connected socket to TLS connection: %o",t.host),t.socket=s,t.servername=t.servername||t.host,t.host=null,t.hostname=null,t.port=null,y=o.connect(t)),h(),e.once("socket",f),n(null,y)}else h(),s.destroy(),(s=new r.Socket).readable=!0,u=c,e.once("socket",m),n(null,s)}(i):s.once("readable",p)}function h(){s.removeListener("end",v),s.removeListener("error",C),s.removeListener("close",d),s.removeListener("readable",p)}function d(e){a("onclose had error %o",e)}function v(){a("onend")}function C(e){h(),n(e)}function m(e){a("replaying proxy buffer for failed request"),i(e.listenerCount("data")>0),e.push(u),u=null}s.on("error",C),s.on("close",d),s.on("end",v),p();var y="CONNECT "+(t.host+":"+t.port)+" HTTP/1.1\r\n",g=Object.assign({},c.headers);c.auth&&(g["Proxy-Authorization"]="Basic "+Buffer.from(c.auth).toString("base64"));var b,w,_=t.host;b=t.port,w=t.secureEndpoint,Boolean(!w&&80===b||w&&443===b)||(_+=":"+t.port),g.Host=_,g.Connection="close",Object.keys(g).forEach(function(e){y+=e+": "+g[e]+"\r\n"}),s.write(y+"\r\n")}},,,,function(e,t,n){"use strict";n(22);const r=n(6).inherits,o=n(23),s=n(26).EventEmitter;function i(e,t){if(!(this instanceof i))return new i(e,t);s.call(this),this._promisifiedCallback=!1;let n=t;"function"==typeof e?this.callback=e:e&&(n=e),this.timeout=n&&n.timeout||null,this.options=n}e.exports=i,r(i,s),i.prototype.callback=function(e,t){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')},i.prototype.addRequest=function(e,t){const n=Object.assign({},t);null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80);const r=Object.assign({},this.options,n);let s;r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1;const c=this.timeout,u=this.freeSocket;function a(t){e._hadError||(e.emit("error",t),e._hadError=!0)}function l(e){i||(null!=s&&(clearTimeout(s),s=null),a(e))}!this._promisifiedCallback&&this.callback.length>=3&&(this.callback=o(this.callback,this),this._promisifiedCallback=!0),c>0&&(s=setTimeout(function(){s=null,i=!0;const e=new Error('A "socket" was not created for HTTP request before '+c+"ms");e.code="ETIMEOUT",a(e)},c));try{Promise.resolve(this.callback(e,r)).then(function(t){var n;i||(null!=s&&(clearTimeout(s),s=null),(n=t)&&"function"==typeof n.addRequest?t.addRequest(e,r):t?(t.on("free",function(){u(t,r)}),e.onSocket(t)):a(new Error("no Duplex stream was returned to agent-base for `"+e.method+" "+e.path+"`")))},l)}catch(e){Promise.reject(e).catch(l)}},i.prototype.freeSocket=function(e,t){e.destroy()}},function(e,t,n){"use strict";const r=n(5),o=n(10),s="__agent_base_https_request_patched__";var i;o.request[s]||(o.request=(i=o.request,function(e,t){let n;return null==(n="string"==typeof e?r.parse(e):Object.assign({},e)).port&&(n.port=443),n.secureEndpoint=!0,i.call(o,n,t)}),o.request[s]=!0),o.get=function(e,t,n){let s;"string"==typeof e&&t&&"function"!=typeof t?s=Object.assign({},r.parse(e),t):t||n?n||(s=e,n=t):s=e;const i=o.request(s,n);return i.end(),i}},function(e,t,n){"use strict";e.exports=function(){var e=n(24);function t(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}return function(n,r){return function(){for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];var c=r&&r.multiArgs,u=void 0;return r&&r.thisArg?u=r.thisArg:r&&(u=r),new e(function(e,r){s.push(function(t){if(t)return r(t);for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];if(!1==!!c)return e(o[0]);e(o)});var o=n.apply(u,s);t(o)&&e(o)})}}}()},function(e,t,n){"use strict";var r;e.exports=(r=void 0,r=void 0!==global?global:void 0!==window&&window.document?window:self,function(){if(!r.hasOwnProperty("Promise"))return!1;var e,t=r.Promise;return!!(t.hasOwnProperty("resolve")&&t.hasOwnProperty("reject")&&t.hasOwnProperty("all")&&t.hasOwnProperty("race")&&(e=void 0,new r.Promise(function(t){e=t})&&"function"==typeof e))}()?r.Promise:n(25).Promise)},function(e,t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,r=void 0,o=void 0,s=function(e,t){p[n]=e,p[n+1]=t,2===(n+=2)&&(o?o(h):y())},i="undefined"!=typeof window?window:void 0,c=i||{},u=c.MutationObserver||c.WebKitMutationObserver,a="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(h,1)}}var p=new Array(1e3);function h(){for(var e=0;e<n;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}n=0}var d,v,C,m,y=void 0;function g(e,t){var n=this,r=new this.constructor(_);void 0===r[w]&&L(r);var o=n._state;if(o){var i=arguments[o-1];s(function(){return M(o,r,i,n._result)})}else k(n,r,e,t);return r}function b(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(_);return x(t,e),t}a?y=function(){return process.nextTick(h)}:u?(v=0,C=new u(h),m=document.createTextNode(""),C.observe(m,{characterData:!0}),y=function(){m.data=v=++v%2}):l?((d=new MessageChannel).port1.onmessage=h,y=function(){return d.port2.postMessage(0)}):y=void 0===i?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(h)}:f()}catch(e){return f()}}():f();var w=Math.random().toString(36).substring(2);function _(){}var F=void 0,O=1,E=2;function A(t,n,r){n.constructor===t.constructor&&r===g&&n.constructor.resolve===b?function(e,t){t._state===O?T(e,t._result):t._state===E?P(e,t._result):k(t,void 0,function(t){return x(e,t)},function(t){return P(e,t)})}(t,n):void 0===r?T(t,n):e(r)?function(e,t,n){s(function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?x(e,n):T(e,n))},function(t){r||(r=!0,P(e,t))},e._label);!r&&o&&(r=!0,P(e,o))},e)}(t,n,r):T(t,n)}function x(e,t){if(e===t)P(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=t),null===r||"object"!==o&&"function"!==o)T(e,t);else{var n=void 0;try{n=t.then}catch(t){return void P(e,t)}A(e,t,n)}var r,o}function R(e){e._onerror&&e._onerror(e._result),S(e)}function T(e,t){e._state===F&&(e._result=t,e._state=O,0!==e._subscribers.length&&s(S,e))}function P(e,t){e._state===F&&(e._state=E,e._result=t,s(R,e))}function k(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+O]=n,o[i+E]=r,0===i&&e._state&&s(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,s=e._result,i=0;i<t.length;i+=3)r=t[i],o=t[i+n],r?M(n,r,o,s):o(s);e._subscribers.length=0}}function M(t,n,r,o){var s=e(r),i=void 0,c=void 0,u=!0;if(s){try{i=r(o)}catch(e){u=!1,c=e}if(n===i)return void P(n,new TypeError("A promises callback cannot return that same promise."))}else i=o;n._state!==F||(s&&u?x(n,i):!1===u?P(n,c):t===O?T(n,i):t===E&&P(n,i))}var j=0;function L(e){e[w]=j++,e._state=void 0,e._result=void 0,e._subscribers=[]}var I=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(_),this.promise[w]||L(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&T(this.promise,this._result))):P(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===F&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===b){var o=void 0,s=void 0,i=!1;try{o=e.then}catch(e){i=!0,s=e}if(o===g&&e._state!==F)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===N){var c=new n(_);i?P(c,s):A(c,e,o),this._willSettleAt(c,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===F&&(this._remaining--,e===E?P(r,n):this._result[t]=n),0===this._remaining&&T(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;k(e,void 0,function(e){return n._settledAt(O,t,e)},function(e){return n._settledAt(E,t,e)})},e}(),N=function(){function t(e){this[w]=j++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){x(e,t)},function(t){P(e,t)})}catch(t){P(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return N.prototype.then=g,N.all=function(e){return new I(this,e).promise},N.race=function(e){var n=this;return t(e)?new n(function(t,r){for(var o=e.length,s=0;s<o;s++)n.resolve(e[s]).then(t,r)}):new n(function(e,t){return t(new TypeError("You must pass an array to race."))})},N.resolve=b,N.reject=function(e){var t=new this(_);return P(t,e),t},N._setScheduler=function(e){o=e},N._setAsap=function(e){s=e},N._asap=s,N.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=N},N.Promise=N,N},e.exports=r()},,function(e,t,n){"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(28):e.exports=n(30)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(11)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var n=1e3,r=60*n,o=60*r,s=24*o,i=7*s,c=365.25*s;function u(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*c;case"weeks":case"week":case"w":return u*i;case"days":case"day":case"d":return u*s;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return u(e,t,s,"day");if(t>=o)return u(e,t,o,"hour");if(t>=r)return u(e,t,r,"minute");if(t>=n)return u(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=n(31),o=n(6);t.init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return process.stderr.write(o.format.apply(o,arguments)+"\n")},t.formatArgs=function(n){var r=this.namespace;if(this.useColors){var o=this.color,s="[3"+(o<8?o:"8;5;"+o),i="  ".concat(s,";1m").concat(r," [0m");n[0]=i+n[0].split("\n").join("\n"+i),n.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var s=n(32);s&&(s.stderr||s).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(11)(t);var i=e.exports.formatters;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},,function(e,t,n){"use strict";const r=n(33),o=n(34),{env:s}=process;let i;function c(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(0===i)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&void 0===i)return 0;const t=i||0;if("dumb"===s.TERM)return t;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in s)||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)?1:"COLORTERM"in s?1:t}(e))}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?i=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(i=1),"FORCE_COLOR"in s&&(i=!0===s.FORCE_COLOR||"true"===s.FORCE_COLOR?1:!1===s.FORCE_COLOR||"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:c,stdout:c(process.stdout),stderr:c(process.stderr)}},,function(e,t,n){"use strict";e.exports=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}}];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BZHllblRlcm1pbmFsQXBpLy4vbm9kZV9tb2R1bGVzL2h0dHBzLXByb3h5LWFnZW50L25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvY29tbW9uLmpzIiwid2VicGFjazovL0FkeWVuVGVybWluYWxBcGkvLi9ub2RlX21vZHVsZXMvaHR0cHMtcHJveHktYWdlbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQWR5ZW5UZXJtaW5hbEFwaS8uL25vZGVfbW9kdWxlcy9hZ2VudC1iYXNlL2luZGV4LmpzIiwid2VicGFjazovL0FkeWVuVGVybWluYWxBcGkvLi9ub2RlX21vZHVsZXMvYWdlbnQtYmFzZS9wYXRjaC1jb3JlLmpzIiwid2VicGFjazovL0FkeWVuVGVybWluYWxBcGkvLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2lmeS9kaXN0L3Byb21pc2lmeS5qcyIsIndlYnBhY2s6Ly9BZHllblRlcm1pbmFsQXBpLy4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNpZnkvZGlzdC9wcm9taXNlLmpzIiwid2VicGFjazovL0FkeWVuVGVybWluYWxBcGkvLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvZGlzdC9lczYtcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9BZHllblRlcm1pbmFsQXBpLy4vbm9kZV9tb2R1bGVzL2h0dHBzLXByb3h5LWFnZW50L25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQWR5ZW5UZXJtaW5hbEFwaS8uL25vZGVfbW9kdWxlcy9odHRwcy1wcm94eS1hZ2VudC9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vQWR5ZW5UZXJtaW5hbEFwaS8uL25vZGVfbW9kdWxlcy9odHRwcy1wcm94eS1hZ2VudC9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQWR5ZW5UZXJtaW5hbEFwaS8uL25vZGVfbW9kdWxlcy9odHRwcy1wcm94eS1hZ2VudC9ub2RlX21vZHVsZXMvZGVidWcvc3JjL25vZGUuanMiLCJ3ZWJwYWNrOi8vQWR5ZW5UZXJtaW5hbEFwaS8uL25vZGVfbW9kdWxlcy9zdXBwb3J0cy1jb2xvci9pbmRleC5qcyIsIndlYnBhY2s6Ly9BZHllblRlcm1pbmFsQXBpLy4vbm9kZV9tb2R1bGVzL2hhcy1mbGFnL2luZGV4LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJlbnYiLCJzZWxlY3RDb2xvciIsIm5hbWVzcGFjZSIsImhhc2giLCJpIiwibGVuZ3RoIiwiY2hhckNvZGVBdCIsImNyZWF0ZURlYnVnIiwiY29sb3JzIiwiTWF0aCIsImFicyIsInByZXZUaW1lIiwiZGVidWciLCJlbmFibGVkIiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJzZWxmIiwiY3VyciIsIk51bWJlciIsIkRhdGUiLCJtcyIsImRpZmYiLCJwcmV2IiwiY29lcmNlIiwidW5zaGlmdCIsImluZGV4IiwicmVwbGFjZSIsIm1hdGNoIiwiZm9ybWF0IiwiZm9ybWF0dGVyIiwiZm9ybWF0dGVycyIsInZhbCIsImNhbGwiLCJzcGxpY2UiLCJmb3JtYXRBcmdzIiwibG9nIiwiYXBwbHkiLCJ1c2VDb2xvcnMiLCJjb2xvciIsImRlc3Ryb3kiLCJleHRlbmQiLCJpbml0IiwiaW5zdGFuY2VzIiwicHVzaCIsImluZGV4T2YiLCJ0aGlzIiwiZGVsaW1pdGVyIiwiZGVmYXVsdCIsIkVycm9yIiwic3RhY2siLCJtZXNzYWdlIiwiZGlzYWJsZSIsImVuYWJsZSIsIm5hbWVzcGFjZXMiLCJzYXZlIiwibmFtZXMiLCJza2lwcyIsInNwbGl0IiwibGVuIiwiUmVnRXhwIiwic3Vic3RyIiwiaW5zdGFuY2UiLCJuYW1lIiwidGVzdCIsImh1bWFuaXplIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwibG9hZCIsIm5ldCIsInRscyIsInVybCIsImFzc2VydCIsIkFnZW50IiwiaW5oZXJpdHMiLCJIdHRwc1Byb3h5QWdlbnQiLCJvcHRzIiwicGFyc2UiLCJwcm94eSIsImFzc2lnbiIsInNlY3VyZVByb3h5IiwicHJvdG9jb2wiLCJob3N0IiwiaG9zdG5hbWUiLCJwb3J0IiwiQUxQTlByb3RvY29scyIsInBhdGgiLCJwYXRobmFtZSIsImRlZmF1bHRQb3J0IiwicmVzdW1lIiwic29ja2V0IiwicHJvdG90eXBlIiwiY2FsbGJhY2siLCJyZXEiLCJmbiIsImNvbm5lY3QiLCJidWZmZXJzIiwiYnVmZmVyc0xlbmd0aCIsInJlYWQiLCJiIiwiYnVmZmVyZWQiLCJCdWZmZXIiLCJjb25jYXQiLCJzdHIiLCJ0b1N0cmluZyIsImZpcnN0TGluZSIsInN1YnN0cmluZyIsInN0YXR1c0NvZGUiLCJzb2NrIiwic2VjdXJlRW5kcG9pbnQiLCJzZXJ2ZXJuYW1lIiwiY2xlYW51cCIsIm9uY2UiLCJTb2NrZXQiLCJyZWFkYWJsZSIsIm9uc29ja2V0Iiwib25kYXRhIiwicmVtb3ZlTGlzdGVuZXIiLCJvbmVuZCIsIm9uZXJyb3IiLCJvbmNsb3NlIiwiZXJyIiwibGlzdGVuZXJDb3VudCIsIm9uIiwibXNnIiwiaGVhZGVycyIsImF1dGgiLCJmcm9tIiwic2VjdXJlIiwiQm9vbGVhbiIsIndyaXRlIiwicHJvbWlzaWZ5IiwiRXZlbnRFbWl0dGVyIiwiX29wdHMiLCJfcHJvbWlzaWZpZWRDYWxsYmFjayIsInRpbWVvdXQiLCJvcHRpb25zIiwiYWRkUmVxdWVzdCIsIm93bk9wdHMiLCJhZ2VudCIsIl9kZWZhdWx0QWdlbnQiLCJjcmVhdGVDb25uZWN0aW9uIiwiX2xhc3QiLCJzaG91bGRLZWVwQWxpdmUiLCJ0aW1lZE91dCIsInRpbWVvdXRNcyIsImZyZWVTb2NrZXQiLCJfaGFkRXJyb3IiLCJlbWl0IiwiY2FsbGJhY2tFcnJvciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJjb2RlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwidiIsIm9uU29ja2V0IiwibWV0aG9kIiwicmVqZWN0IiwiY2F0Y2giLCJodHRwcyIsInBhdGNoTWFya2VyIiwicmVxdWVzdCIsIl9vcHRpb25zIiwiY2IiLCJnZXQiLCJfdXJsIiwiZW5kIiwiRVM2UHJvbWlzZSIsInRoYXRMb29rc0xpa2VBUHJvbWlzZVRvTWUiLCJvIiwib3JpZ2luYWwiLCJzZXR0aW5ncyIsInJldHVybk11bHRpcGxlQXJndW1lbnRzIiwibXVsdGlBcmdzIiwidGFyZ2V0IiwidGhpc0FyZyIsIl9sZW4yIiwidmFsdWVzIiwiX2tleTIiLCJyZXNwb25zZSIsImdsb2JhbE9iamVjdCIsInVuZGVmaW5lZCIsImdsb2JhbCIsIndpbmRvdyIsImRvY3VtZW50IiwiaGFzT3duUHJvcGVydHkiLCJQIiwiciIsImZhY3RvcnkiLCJpc0Z1bmN0aW9uIiwieCIsImlzQXJyYXkiLCJ2ZXJ0eE5leHQiLCJjdXN0b21TY2hlZHVsZXJGbiIsImFzYXAiLCJhcmciLCJxdWV1ZSIsImZsdXNoIiwic2NoZWR1bGVGbHVzaCIsImJyb3dzZXJXaW5kb3ciLCJicm93c2VyR2xvYmFsIiwiQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImlzTm9kZSIsInByb2Nlc3MiLCJpc1dvcmtlciIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwiaW1wb3J0U2NyaXB0cyIsIk1lc3NhZ2VDaGFubmVsIiwidXNlU2V0VGltZW91dCIsImdsb2JhbFNldFRpbWVvdXQiLCJjaGFubmVsIiwiaXRlcmF0aW9ucyIsIm9ic2VydmVyIiwibm9kZSIsIm9uRnVsZmlsbG1lbnQiLCJvblJlamVjdGlvbiIsInBhcmVudCIsImNoaWxkIiwiY29uc3RydWN0b3IiLCJub29wIiwiUFJPTUlTRV9JRCIsIm1ha2VQcm9taXNlIiwiX3N0YXRlIiwiaW52b2tlQ2FsbGJhY2siLCJfcmVzdWx0Iiwic3Vic2NyaWJlIiwicmVzb2x2ZSQxIiwib2JqZWN0IiwicHJvbWlzZSIsIm5leHRUaWNrIiwiY3JlYXRlVGV4dE5vZGUiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsImRhdGEiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJ2ZXJ0eCIsIkZ1bmN0aW9uIiwicmVxdWlyZSIsInJ1bk9uTG9vcCIsInJ1bk9uQ29udGV4dCIsImUiLCJhdHRlbXB0VmVydHgiLCJyYW5kb20iLCJQRU5ESU5HIiwiRlVMRklMTEVEIiwiUkVKRUNURUQiLCJoYW5kbGVNYXliZVRoZW5hYmxlIiwibWF5YmVUaGVuYWJsZSIsInRoZW4kJDEiLCJ0aGVuYWJsZSIsImZ1bGZpbGwiLCJ2YWx1ZSIsInJlYXNvbiIsImhhbmRsZU93blRoZW5hYmxlIiwic2VhbGVkIiwiZXJyb3IiLCJmdWxmaWxsbWVudEhhbmRsZXIiLCJyZWplY3Rpb25IYW5kbGVyIiwidHJ5VGhlbiIsIl9sYWJlbCIsImhhbmRsZUZvcmVpZ25UaGVuYWJsZSIsIlR5cGVFcnJvciIsInR5cGUiLCJwdWJsaXNoUmVqZWN0aW9uIiwiX29uZXJyb3IiLCJwdWJsaXNoIiwiX3N1YnNjcmliZXJzIiwic3Vic2NyaWJlcnMiLCJzZXR0bGVkIiwiZGV0YWlsIiwiaGFzQ2FsbGJhY2siLCJzdWNjZWVkZWQiLCJpZCIsIkVudW1lcmF0b3IiLCJDb25zdHJ1Y3RvciIsImlucHV0IiwiX2luc3RhbmNlQ29uc3RydWN0b3IiLCJfcmVtYWluaW5nIiwiX2VudW1lcmF0ZSIsIl9lYWNoRW50cnkiLCJlbnRyeSIsImMiLCJyZXNvbHZlJCQxIiwiX3RoZW4iLCJkaWRFcnJvciIsIl9zZXR0bGVkQXQiLCJQcm9taXNlJDEiLCJfd2lsbFNldHRsZUF0Iiwic3RhdGUiLCJlbnVtZXJhdG9yIiwicmVzb2x2ZXIiLCJuZWVkc1Jlc29sdmVyIiwiaW5pdGlhbGl6ZVByb21pc2UiLCJuZWVkc05ldyIsImZpbmFsbHkiLCJhbGwiLCJlbnRyaWVzIiwicmFjZSIsIl8iLCJfc2V0U2NoZWR1bGVyIiwic2NoZWR1bGVGbiIsIl9zZXRBc2FwIiwiYXNhcEZuIiwiX2FzYXAiLCJwb2x5ZmlsbCIsImxvY2FsIiwicHJvbWlzZVRvU3RyaW5nIiwiY2FzdCIsImJyb3dzZXIiLCJfX253anMiLCJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfY29uc29sZSIsImNvbnNvbGUiLCJsYXN0QyIsInN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImdldEl0ZW0iLCJERUJVRyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJXZWJraXRBcHBlYXJhbmNlIiwiZmlyZWJ1ZyIsImV4Y2VwdGlvbiIsInRhYmxlIiwicGFyc2VJbnQiLCIkMSIsImxvY2FsU3RvcmFnZSIsImxvY2Fsc3RvcmFnZSIsImoiLCJKU09OIiwic3RyaW5naWZ5IiwicyIsIm0iLCJoIiwiZCIsInciLCJ5IiwicGx1cmFsIiwibXNBYnMiLCJuIiwiaXNQbHVyYWwiLCJyb3VuZCIsIlN0cmluZyIsImV4ZWMiLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJsb25nIiwiZm10TG9uZyIsImZtdFNob3J0IiwidHR5IiwidXRpbCIsImluc3BlY3RPcHRzIiwic3RkZXJyIiwiY29sb3JDb2RlIiwicHJlZml4Iiwiam9pbiIsImhpZGVEYXRlIiwidG9JU09TdHJpbmciLCJnZXREYXRlIiwiaXNhdHR5IiwiZmQiLCJzdXBwb3J0c0NvbG9yIiwibGV2ZWwiLCJmaWx0ZXIiLCJyZWR1Y2UiLCJwcm9wIiwiayIsInRvVXBwZXJDYXNlIiwiaW5zcGVjdCIsIk8iLCJvcyIsImhhc0ZsYWciLCJmb3JjZUNvbG9yIiwiZ2V0U3VwcG9ydExldmVsIiwic3RyZWFtIiwiaGFzQmFzaWMiLCJoYXMyNTYiLCJoYXMxNm0iLCJ0cmFuc2xhdGVMZXZlbCIsImlzVFRZIiwibWluIiwiVEVSTSIsInBsYXRmb3JtIiwib3NSZWxlYXNlIiwicmVsZWFzZSIsInZlcnNpb25zIiwic29tZSIsInNpZ24iLCJDSV9OQU1FIiwiVEVBTUNJVFlfVkVSU0lPTiIsIkNPTE9SVEVSTSIsInZlcnNpb24iLCJURVJNX1BST0dSQU1fVkVSU0lPTiIsIlRFUk1fUFJPR1JBTSIsIkZPUkNFX0NPTE9SIiwic3Rkb3V0IiwiZmxhZyIsImFyZ3YiLCJzdGFydHNXaXRoIiwicG9zIiwidGVybWluYXRvclBvcyJdLCJtYXBwaW5ncyI6InlFQXVQQUEsRUFBT0MsUUFqUFAsU0FBZUMsR0FvQ2IsU0FBU0MsRUFBWUMsR0FHbkIsSUFGQSxJQUFJQyxFQUFPLEVBRUZDLEVBQUksRUFBR0EsRUFBSUYsRUFBVUcsT0FBUUQsSUFDcENELEdBQVFBLEdBQVEsR0FBS0EsRUFBT0QsRUFBVUksV0FBV0YsR0FDakRELEdBQVEsRUFHVixPQUFPSSxFQUFZQyxPQUFPQyxLQUFLQyxJQUFJUCxHQUFRSSxFQUFZQyxPQUFPSCxRQVloRSxTQUFTRSxFQUFZTCxHQUNuQixJQUFJUyxFQUVKLFNBQVNDLElBRVAsR0FBS0EsRUFBTUMsUUFBWCxDQUlBLElBQUssSUFBSUMsRUFBT0MsVUFBVVYsT0FBUVcsRUFBTyxJQUFJQyxNQUFNSCxHQUFPSSxFQUFPLEVBQUdBLEVBQU9KLEVBQU1JLElBQy9FRixFQUFLRSxHQUFRSCxVQUFVRyxHQUd6QixJQUFJQyxFQUFPUCxFQUVQUSxFQUFPQyxPQUFPLElBQUlDLE1BQ2xCQyxFQUFLSCxHQUFRVCxHQUFZUyxHQUM3QkQsRUFBS0ssS0FBT0QsRUFDWkosRUFBS00sS0FBT2QsRUFDWlEsRUFBS0MsS0FBT0EsRUFDWlQsRUFBV1MsRUFDWEosRUFBSyxHQUFLVCxFQUFZbUIsT0FBT1YsRUFBSyxJQUVYLGlCQUFaQSxFQUFLLElBRWRBLEVBQUtXLFFBQVEsTUFJZixJQUFJQyxFQUFRLEVBQ1paLEVBQUssR0FBS0EsRUFBSyxHQUFHYSxRQUFRLGdCQUFpQixTQUFVQyxFQUFPQyxHQUUxRCxHQUFjLE9BQVZELEVBQ0YsT0FBT0EsRUFHVEYsSUFDQSxJQUFJSSxFQUFZekIsRUFBWTBCLFdBQVdGLEdBRXZDLEdBQXlCLG1CQUFkQyxFQUEwQixDQUNuQyxJQUFJRSxFQUFNbEIsRUFBS1ksR0FDZkUsRUFBUUUsRUFBVUcsS0FBS2hCLEVBQU1lLEdBRTdCbEIs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RUFBSSxFQUFJLEVBQzNCLElBQUssaUJBQ0osT0FBTyxHQUtWLE1BQUksaUJBQWlCeFYsS0FBS2xFLEVBQUlnWixNQUN0QixFQUdKLDhEQUE4RDlVLEtBQUtsRSxFQUFJZ1osTUFDbkUsRUFHSixjQUFlaFosRUFDWCxFQUdEK1ksRUFJT25CLENBQWNhLElBMUh6QkgsRUFBUSxhQUNYQSxFQUFRLGNBQ1JBLEVBQVEsZ0JBQ1JBLEVBQVEsZUFDUkMsRUFBYSxHQUNIRCxFQUFRLFVBQ2xCQSxFQUFRLFdBQ1JBLEVBQVEsZUFDUkEsRUFBUSxtQkFDUkMsRUFBYSxHQUVWLGdCQUFpQnZZLElBRW5CdVksR0FEdUIsSUFBcEJ2WSxFQUFJNlosYUFBNEMsU0FBcEI3WixFQUFJNlosWUFDdEIsR0FDaUIsSUFBcEI3WixFQUFJNlosYUFBNkMsVUFBcEI3WixFQUFJNlosWUFDOUIsRUFFMkIsSUFBM0I3WixFQUFJNlosWUFBWXhaLE9BQWUsRUFBSUksS0FBS3NZLElBQUl4RCxTQUFTdlYsRUFBSTZaLFlBQWEsSUFBSyxJQTZHMUYvWixFQUFPQyxRQUFVLENBQ2hCNlgsY0FBZVksRUFDZnNCLE9BQVF0QixFQUFnQnBMLFFBQVEwTSxRQUNoQzNDLE9BQVFxQixFQUFnQnBMLFFBQVErSixVLDhCQ3ZJakNyWCxFQUFPQyxRQUFVLENBQUNnYSxFQUFNQyxLQUN2QkEsRUFBT0EsR0FBUTVNLFFBQVE0TSxLQUN2QixNQUFNM0MsRUFBUzBDLEVBQUtFLFdBQVcsS0FBTyxHQUFzQixJQUFoQkYsRUFBSzFaLE9BQWUsSUFBTSxLQUNoRTZaLEVBQU1GLEVBQUtqWCxRQUFRc1UsRUFBUzBDLEdBQzVCSSxFQUFnQkgsRUFBS2pYLFFBQVEsTUFDbkMsT0FBZ0IsSUFBVG1YLEtBQWtDLElBQW5CQyxHQUE4QkQsRUFBTUMiLCJmaWxlIjoidmVuZG9yc35tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqL1xuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG4gIGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG4gIGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1ZztcbiAgY3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuICBjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcbiAgY3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuICBjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcbiAgY3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuICBPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGNyZWF0ZURlYnVnW2tleV0gPSBlbnZba2V5XTtcbiAgfSk7XG4gIC8qKlxuICAqIEFjdGl2ZSBgZGVidWdgIGluc3RhbmNlcy5cbiAgKi9cblxuICBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMgPSBbXTtcbiAgLyoqXG4gICogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG4gICovXG5cbiAgY3JlYXRlRGVidWcubmFtZXMgPSBbXTtcbiAgY3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcbiAgLyoqXG4gICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICAqXG4gICogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuICAqL1xuXG4gIGNyZWF0ZURlYnVnLmZvcm1hdHRlcnMgPSB7fTtcbiAgLyoqXG4gICogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWRcbiAgKiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfSBBbiBBTlNJIGNvbG9yIGNvZGUgZm9yIHRoZSBnaXZlbiBuYW1lc3BhY2VcbiAgKiBAYXBpIHByaXZhdGVcbiAgKi9cblxuICBmdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcbiAgICB2YXIgaGFzaCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzcGFjZS5sZW5ndGg7IGkrKykge1xuICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlRGVidWcuY29sb3JzW01hdGguYWJzKGhhc2gpICUgY3JlYXRlRGVidWcuY29sb3JzLmxlbmd0aF07XG4gIH1cblxuICBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvciA9IHNlbGVjdENvbG9yO1xuICAvKipcbiAgKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuICAgIHZhciBwcmV2VGltZTtcblxuICAgIGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgICAgLy8gRGlzYWJsZWQ/XG4gICAgICBpZiAoIWRlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlbGYgPSBkZWJ1ZzsgLy8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblxuICAgICAgdmFyIGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG4gICAgICB2YXIgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuICAgICAgc2VsZi5kaWZmID0gbXM7XG4gICAgICBzZWxmLnByZXYgPSBwcmV2VGltZTtcbiAgICAgIHNlbGYuY3VyciA9IGN1cnI7XG4gICAgICBwcmV2VGltZSA9IGN1cnI7XG4gICAgICBhcmdzWzBdID0gY3JlYXRlRGVidWcuY29lcmNlKGFyZ3NbMF0pO1xuXG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICAgIGFyZ3MudW5zaGlmdCgnJU8nKTtcbiAgICAgIH0gLy8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcblxuXG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgYXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIGZ1bmN0aW9uIChtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAgIC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcbiAgICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgdmFyIGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblxuICAgICAgICBpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhciB2YWwgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgICBtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7IC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblxuICAgICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgfSk7IC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cbiAgICAgIGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcbiAgICAgIHZhciBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcbiAgICAgIGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIH1cblxuICAgIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgICBkZWJ1Zy5lbmFibGVkID0gY3JlYXRlRGVidWcuZW5hYmxlZChuYW1lc3BhY2UpO1xuICAgIGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuICAgIGRlYnVnLmNvbG9yID0gc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcbiAgICBkZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcbiAgICBkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7IC8vIERlYnVnLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuICAgIC8vIGRlYnVnLnJhd0xvZyA9IHJhd0xvZztcbiAgICAvLyBlbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuXG4gICAgaWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcbiAgICB9XG5cbiAgICBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMucHVzaChkZWJ1Zyk7XG4gICAgcmV0dXJuIGRlYnVnO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICB2YXIgaW5kZXggPSBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMuaW5kZXhPZih0aGlzKTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGNyZWF0ZURlYnVnLmluc3RhbmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0ZW5kKG5hbWVzcGFjZSwgZGVsaW1pdGVyKSB7XG4gICAgcmV0dXJuIGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG4gIH1cbiAgLyoqXG4gICogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuICAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICAqIEBhcGkgcHVibGljXG4gICovXG5cblxuICBmdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuICAgIGNyZWF0ZURlYnVnLnNhdmUobmFtZXNwYWNlcyk7XG4gICAgY3JlYXRlRGVidWcubmFtZXMgPSBbXTtcbiAgICBjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuICAgIHZhciBpO1xuICAgIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gICAgdmFyIGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKCFzcGxpdFtpXSkge1xuICAgICAgICAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG5cbiAgICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgICAgY3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBjcmVhdGVEZWJ1Zy5pbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IGNyZWF0ZURlYnVnLmluc3RhbmNlc1tpXTtcbiAgICAgIGluc3RhbmNlLmVuYWJsZWQgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKGluc3RhbmNlLm5hbWVzcGFjZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuICAqXG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgY3JlYXRlRGVidWcuZW5hYmxlKCcnKTtcbiAgfVxuICAvKipcbiAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICAgIGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGk7XG4gICAgdmFyIGxlbjtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoY3JlYXRlRGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChjcmVhdGVEZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgKiBDb2VyY2UgYHZhbGAuXG4gICpcbiAgKiBAcGFyYW0ge01peGVkfSB2YWxcbiAgKiBAcmV0dXJuIHtNaXhlZH1cbiAgKiBAYXBpIHByaXZhdGVcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuICByZXR1cm4gY3JlYXRlRGVidWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XG5cbiIsIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgbmV0ID0gcmVxdWlyZSgnbmV0Jyk7XG52YXIgdGxzID0gcmVxdWlyZSgndGxzJyk7XG52YXIgdXJsID0gcmVxdWlyZSgndXJsJyk7XG52YXIgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG52YXIgQWdlbnQgPSByZXF1aXJlKCdhZ2VudC1iYXNlJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCd1dGlsJykuaW5oZXJpdHM7XG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdodHRwcy1wcm94eS1hZ2VudCcpO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gSHR0cHNQcm94eUFnZW50O1xuXG4vKipcbiAqIFRoZSBgSHR0cHNQcm94eUFnZW50YCBpbXBsZW1lbnRzIGFuIEhUVFAgQWdlbnQgc3ViY2xhc3MgdGhhdCBjb25uZWN0cyB0byB0aGVcbiAqIHNwZWNpZmllZCBcIkhUVFAocykgcHJveHkgc2VydmVyXCIgaW4gb3JkZXIgdG8gcHJveHkgSFRUUFMgcmVxdWVzdHMuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBIdHRwc1Byb3h5QWdlbnQob3B0cykge1xuXHRpZiAoISh0aGlzIGluc3RhbmNlb2YgSHR0cHNQcm94eUFnZW50KSkgcmV0dXJuIG5ldyBIdHRwc1Byb3h5QWdlbnQob3B0cyk7XG5cdGlmICgnc3RyaW5nJyA9PSB0eXBlb2Ygb3B0cykgb3B0cyA9IHVybC5wYXJzZShvcHRzKTtcblx0aWYgKCFvcHRzKVxuXHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdCdhbiBIVFRQKFMpIHByb3h5IHNlcnZlciBgaG9zdGAgYW5kIGBwb3J0YCBtdXN0IGJlIHNwZWNpZmllZCEnXG5cdFx0KTtcblx0ZGVidWcoJ2NyZWF0aW5nIG5ldyBIdHRwc1Byb3h5QWdlbnQgaW5zdGFuY2U6ICVvJywgb3B0cyk7XG5cdEFnZW50LmNhbGwodGhpcywgb3B0cyk7XG5cblx0dmFyIHByb3h5ID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cyk7XG5cblx0Ly8gaWYgYHRydWVgLCB0aGVuIGNvbm5lY3QgdG8gdGhlIHByb3h5IHNlcnZlciBvdmVyIFRMUy4gZGVmYXVsdHMgdG8gYGZhbHNlYC5cblx0dGhpcy5zZWN1cmVQcm94eSA9IHByb3h5LnByb3RvY29sXG5cdFx0PyAvXmh0dHBzOj8kL2kudGVzdChwcm94eS5wcm90b2NvbClcblx0XHQ6IGZhbHNlO1xuXG5cdC8vIHByZWZlciBgaG9zdG5hbWVgIG92ZXIgYGhvc3RgLCBhbmQgc2V0IHRoZSBgcG9ydGAgaWYgbmVlZGVkXG5cdHByb3h5Lmhvc3QgPSBwcm94eS5ob3N0bmFtZSB8fCBwcm94eS5ob3N0O1xuXHRwcm94eS5wb3J0ID0gK3Byb3h5LnBvcnQgfHwgKHRoaXMuc2VjdXJlUHJveHkgPyA0NDMgOiA4MCk7XG5cblx0Ly8gQUxQTiBpcyBzdXBwb3J0ZWQgYnkgTm9kZS5qcyA+PSB2NS5cblx0Ly8gYXR0ZW1wdCB0byBuZWdvdGlhdGUgaHR0cC8xLjEgZm9yIHByb3h5IHNlcnZlcnMgdGhhdCBzdXBwb3J0IGh0dHAvMlxuXHRpZiAodGhpcy5zZWN1cmVQcm94eSAmJiAhKCdBTFBOUHJvdG9jb2xzJyBpbiBwcm94eSkpIHtcblx0XHRwcm94eS5BTFBOUHJvdG9jb2xzID0gWydodHRwIDEuMSddO1xuXHR9XG5cblx0aWYgKHByb3h5Lmhvc3QgJiYgcHJveHkucGF0aCkge1xuXHRcdC8vIGlmIGJvdGggYSBgaG9zdGAgYW5kIGBwYXRoYCBhcmUgc3BlY2lmaWVkIHRoZW4gaXQncyBtb3N0IGxpa2VseSB0aGVcblx0XHQvLyByZXN1bHQgb2YgYSBgdXJsLnBhcnNlKClgIGNhbGwuLi4gd2UgbmVlZCB0byByZW1vdmUgdGhlIGBwYXRoYCBwb3J0aW9uIHNvXG5cdFx0Ly8gdGhhdCBgbmV0LmNvbm5lY3QoKWAgZG9lc24ndCBhdHRlbXB0IHRvIG9wZW4gdGhhdCBhcyBhIHVuaXggc29ja2V0IGZpbGUuXG5cdFx0ZGVsZXRlIHByb3h5LnBhdGg7XG5cdFx0ZGVsZXRlIHByb3h5LnBhdGhuYW1lO1xuXHR9XG5cblx0dGhpcy5wcm94eSA9IHByb3h5O1xuXHR0aGlzLmRlZmF1bHRQb3J0ID0gNDQzO1xufVxuaW5oZXJpdHMoSHR0cHNQcm94eUFnZW50LCBBZ2VudCk7XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gdGhlIG5vZGUtY29yZSBIVFRQIGNsaWVudCBsaWJyYXJ5IGlzIGNyZWF0aW5nIGEgbmV3IEhUVFAgcmVxdWVzdC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkh0dHBzUHJveHlBZ2VudC5wcm90b3R5cGUuY2FsbGJhY2sgPSBmdW5jdGlvbiBjb25uZWN0KHJlcSwgb3B0cywgZm4pIHtcblx0dmFyIHByb3h5ID0gdGhpcy5wcm94eTtcblxuXHQvLyBjcmVhdGUgYSBzb2NrZXQgY29ubmVjdGlvbiB0byB0aGUgcHJveHkgc2VydmVyXG5cdHZhciBzb2NrZXQ7XG5cdGlmICh0aGlzLnNlY3VyZVByb3h5KSB7XG5cdFx0c29ja2V0ID0gdGxzLmNvbm5lY3QocHJveHkpO1xuXHR9IGVsc2Uge1xuXHRcdHNvY2tldCA9IG5ldC5jb25uZWN0KHByb3h5KTtcblx0fVxuXG5cdC8vIHdlIG5lZWQgdG8gYnVmZmVyIGFueSBIVFRQIHRyYWZmaWMgdGhhdCBoYXBwZW5zIHdpdGggdGhlIHByb3h5IGJlZm9yZSB3ZSBnZXRcblx0Ly8gdGhlIENPTk5FQ1QgcmVzcG9uc2UsIHNvIHRoYXQgaWYgdGhlIHJlc3BvbnNlIGlzIGFueXRoaW5nIG90aGVyIHRoYW4gYW4gXCIyMDBcIlxuXHQvLyByZXNwb25zZSBjb2RlLCB0aGVuIHdlIGNhbiByZS1wbGF5IHRoZSBcImRhdGFcIiBldmVudHMgb24gdGhlIHNvY2tldCBvbmNlIHRoZVxuXHQvLyBIVFRQIHBhcnNlciBpcyBob29rZWQgdXAuLi5cblx0dmFyIGJ1ZmZlcnMgPSBbXTtcblx0dmFyIGJ1ZmZlcnNMZW5ndGggPSAwO1xuXG5cdGZ1bmN0aW9uIHJlYWQoKSB7XG5cdFx0dmFyIGIgPSBzb2NrZXQucmVhZCgpO1xuXHRcdGlmIChiKSBvbmRhdGEoYik7XG5cdFx0ZWxzZSBzb2NrZXQub25jZSgncmVhZGFibGUnLCByZWFkKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0c29ja2V0LnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG5cdFx0c29ja2V0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuXHRcdHNvY2tldC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcblx0XHRzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ3JlYWRhYmxlJywgcmVhZCk7XG5cdH1cblxuXHRmdW5jdGlvbiBvbmNsb3NlKGVycikge1xuXHRcdGRlYnVnKCdvbmNsb3NlIGhhZCBlcnJvciAlbycsIGVycik7XG5cdH1cblxuXHRmdW5jdGlvbiBvbmVuZCgpIHtcblx0XHRkZWJ1Zygnb25lbmQnKTtcblx0fVxuXG5cdGZ1bmN0aW9uIG9uZXJyb3IoZXJyKSB7XG5cdFx0Y2xlYW51cCgpO1xuXHRcdGZuKGVycik7XG5cdH1cblxuXHRmdW5jdGlvbiBvbmRhdGEoYikge1xuXHRcdGJ1ZmZlcnMucHVzaChiKTtcblx0XHRidWZmZXJzTGVuZ3RoICs9IGIubGVuZ3RoO1xuXHRcdHZhciBidWZmZXJlZCA9IEJ1ZmZlci5jb25jYXQoYnVmZmVycywgYnVmZmVyc0xlbmd0aCk7XG5cdFx0dmFyIHN0ciA9IGJ1ZmZlcmVkLnRvU3RyaW5nKCdhc2NpaScpO1xuXG5cdFx0aWYgKCF+c3RyLmluZGV4T2YoJ1xcclxcblxcclxcbicpKSB7XG5cdFx0XHQvLyBrZWVwIGJ1ZmZlcmluZ1xuXHRcdFx0ZGVidWcoJ2hhdmUgbm90IHJlY2VpdmVkIGVuZCBvZiBIVFRQIGhlYWRlcnMgeWV0Li4uJyk7XG5cdFx0XHRyZWFkKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGZpcnN0TGluZSA9IHN0ci5zdWJzdHJpbmcoMCwgc3RyLmluZGV4T2YoJ1xcclxcbicpKTtcblx0XHR2YXIgc3RhdHVzQ29kZSA9ICtmaXJzdExpbmUuc3BsaXQoJyAnKVsxXTtcblx0XHRkZWJ1ZygnZ290IHByb3h5IHNlcnZlciByZXNwb25zZTogJW8nLCBmaXJzdExpbmUpO1xuXG5cdFx0aWYgKDIwMCA9PSBzdGF0dXNDb2RlKSB7XG5cdFx0XHQvLyAyMDAgQ29ubmVjdGVkIHN0YXR1cyBjb2RlIVxuXHRcdFx0dmFyIHNvY2sgPSBzb2NrZXQ7XG5cblx0XHRcdC8vIG51bGxpZnkgdGhlIGJ1ZmZlcmVkIGRhdGEgc2luY2Ugd2Ugd29uJ3QgYmUgbmVlZGluZyBpdFxuXHRcdFx0YnVmZmVycyA9IGJ1ZmZlcmVkID0gbnVsbDtcblxuXHRcdFx0aWYgKG9wdHMuc2VjdXJlRW5kcG9pbnQpIHtcblx0XHRcdFx0Ly8gc2luY2UgdGhlIHByb3h5IGlzIGNvbm5lY3RpbmcgdG8gYW4gU1NMIHNlcnZlciwgd2UgaGF2ZVxuXHRcdFx0XHQvLyB0byB1cGdyYWRlIHRoaXMgc29ja2V0IGNvbm5lY3Rpb24gdG8gYW4gU1NMIGNvbm5lY3Rpb25cblx0XHRcdFx0ZGVidWcoXG5cdFx0XHRcdFx0J3VwZ3JhZGluZyBwcm94eS1jb25uZWN0ZWQgc29ja2V0IHRvIFRMUyBjb25uZWN0aW9uOiAlbycsXG5cdFx0XHRcdFx0b3B0cy5ob3N0XG5cdFx0XHRcdCk7XG5cdFx0XHRcdG9wdHMuc29ja2V0ID0gc29ja2V0O1xuXHRcdFx0XHRvcHRzLnNlcnZlcm5hbWUgPSBvcHRzLnNlcnZlcm5hbWUgfHwgb3B0cy5ob3N0O1xuXHRcdFx0XHRvcHRzLmhvc3QgPSBudWxsO1xuXHRcdFx0XHRvcHRzLmhvc3RuYW1lID0gbnVsbDtcblx0XHRcdFx0b3B0cy5wb3J0ID0gbnVsbDtcblx0XHRcdFx0c29jayA9IHRscy5jb25uZWN0KG9wdHMpO1xuXHRcdFx0fVxuXG5cdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRyZXEub25jZSgnc29ja2V0JywgcmVzdW1lKTtcblx0XHRcdGZuKG51bGwsIHNvY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBzb21lIG90aGVyIHN0YXR1cyBjb2RlIHRoYXQncyBub3QgMjAwLi4uIG5lZWQgdG8gcmUtcGxheSB0aGUgSFRUUCBoZWFkZXJcblx0XHRcdC8vIFwiZGF0YVwiIGV2ZW50cyBvbnRvIHRoZSBzb2NrZXQgb25jZSB0aGUgSFRUUCBtYWNoaW5lcnkgaXMgYXR0YWNoZWQgc29cblx0XHRcdC8vIHRoYXQgdGhlIG5vZGUgY29yZSBgaHR0cGAgY2FuIHBhcnNlIGFuZCBoYW5kbGUgdGhlIGVycm9yIHN0YXR1cyBjb2RlXG5cdFx0XHRjbGVhbnVwKCk7XG5cblx0XHRcdC8vIHRoZSBvcmlnaW5hbCBzb2NrZXQgaXMgY2xvc2VkLCBhbmQgYSBuZXcgY2xvc2VkIHNvY2tldCBpc1xuXHRcdFx0Ly8gcmV0dXJuZWQgaW5zdGVhZCwgc28gdGhhdCB0aGUgcHJveHkgZG9lc24ndCBnZXQgdGhlIEhUVFAgcmVxdWVzdFxuXHRcdFx0Ly8gd3JpdHRlbiB0byBpdCAod2hpY2ggbWF5IGNvbnRhaW4gYEF1dGhvcml6YXRpb25gIGhlYWRlcnMgb3Igb3RoZXJcblx0XHRcdC8vIHNlbnNpdGl2ZSBkYXRhKS5cblx0XHRcdC8vXG5cdFx0XHQvLyBTZWU6IGh0dHBzOi8vaGFja2Vyb25lLmNvbS9yZXBvcnRzLzU0MTUwMlxuXHRcdFx0c29ja2V0LmRlc3Ryb3koKTtcblx0XHRcdHNvY2tldCA9IG5ldyBuZXQuU29ja2V0KCk7XG5cdFx0XHRzb2NrZXQucmVhZGFibGUgPSB0cnVlO1xuXG5cblx0XHRcdC8vIHNhdmUgYSByZWZlcmVuY2UgdG8gdGhlIGNvbmNhdCdkIEJ1ZmZlciBmb3IgdGhlIGBvbnNvY2tldGAgY2FsbGJhY2tcblx0XHRcdGJ1ZmZlcnMgPSBidWZmZXJlZDtcblxuXHRcdFx0Ly8gbmVlZCB0byB3YWl0IGZvciB0aGUgXCJzb2NrZXRcIiBldmVudCB0byByZS1wbGF5IHRoZSBcImRhdGFcIiBldmVudHNcblx0XHRcdHJlcS5vbmNlKCdzb2NrZXQnLCBvbnNvY2tldCk7XG5cblx0XHRcdGZuKG51bGwsIHNvY2tldCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gb25zb2NrZXQoc29ja2V0KSB7XG5cdFx0ZGVidWcoJ3JlcGxheWluZyBwcm94eSBidWZmZXIgZm9yIGZhaWxlZCByZXF1ZXN0Jyk7XG5cdFx0YXNzZXJ0KHNvY2tldC5saXN0ZW5lckNvdW50KCdkYXRhJykgPiAwKTtcblxuXHRcdC8vIHJlcGxheSB0aGUgXCJidWZmZXJzXCIgQnVmZmVyIG9udG8gdGhlIGBzb2NrZXRgLCBzaW5jZSBhdCB0aGlzIHBvaW50XG5cdFx0Ly8gdGhlIEhUVFAgbW9kdWxlIG1hY2hpbmVyeSBoYXMgYmVlbiBob29rZWQgdXAgZm9yIHRoZSB1c2VyXG5cdFx0c29ja2V0LnB1c2goYnVmZmVycyk7XG5cblx0XHQvLyBudWxsaWZ5IHRoZSBjYWNoZWQgQnVmZmVyIGluc3RhbmNlXG5cdFx0YnVmZmVycyA9IG51bGw7XG5cdH1cblxuXHRzb2NrZXQub24oJ2Vycm9yJywgb25lcnJvcik7XG5cdHNvY2tldC5vbignY2xvc2UnLCBvbmNsb3NlKTtcblx0c29ja2V0Lm9uKCdlbmQnLCBvbmVuZCk7XG5cblx0cmVhZCgpO1xuXG5cdHZhciBob3N0bmFtZSA9IG9wdHMuaG9zdCArICc6JyArIG9wdHMucG9ydDtcblx0dmFyIG1zZyA9ICdDT05ORUNUICcgKyBob3N0bmFtZSArICcgSFRUUC8xLjFcXHJcXG4nO1xuXG5cdHZhciBoZWFkZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgcHJveHkuaGVhZGVycyk7XG5cdGlmIChwcm94eS5hdXRoKSB7XG5cdFx0aGVhZGVyc1snUHJveHktQXV0aG9yaXphdGlvbiddID1cblx0XHRcdCdCYXNpYyAnICsgQnVmZmVyLmZyb20ocHJveHkuYXV0aCkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuXHR9XG5cblx0Ly8gdGhlIEhvc3QgaGVhZGVyIHNob3VsZCBvbmx5IGluY2x1ZGUgdGhlIHBvcnRcblx0Ly8gbnVtYmVyIHdoZW4gaXQgaXMgYSBub24tc3RhbmRhcmQgcG9ydFxuXHR2YXIgaG9zdCA9IG9wdHMuaG9zdDtcblx0aWYgKCFpc0RlZmF1bHRQb3J0KG9wdHMucG9ydCwgb3B0cy5zZWN1cmVFbmRwb2ludCkpIHtcblx0XHRob3N0ICs9ICc6JyArIG9wdHMucG9ydDtcblx0fVxuXHRoZWFkZXJzWydIb3N0J10gPSBob3N0O1xuXG5cdGhlYWRlcnNbJ0Nvbm5lY3Rpb24nXSA9ICdjbG9zZSc7XG5cdE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuXHRcdG1zZyArPSBuYW1lICsgJzogJyArIGhlYWRlcnNbbmFtZV0gKyAnXFxyXFxuJztcblx0fSk7XG5cblx0c29ja2V0LndyaXRlKG1zZyArICdcXHJcXG4nKTtcbn07XG5cbi8qKlxuICogUmVzdW1lcyBhIHNvY2tldC5cbiAqXG4gKiBAcGFyYW0geyhuZXQuU29ja2V0fHRscy5Tb2NrZXQpfSBzb2NrZXQgVGhlIHNvY2tldCB0byByZXN1bWVcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gcmVzdW1lKHNvY2tldCkge1xuXHRzb2NrZXQucmVzdW1lKCk7XG59XG5cbmZ1bmN0aW9uIGlzRGVmYXVsdFBvcnQocG9ydCwgc2VjdXJlKSB7XG5cdHJldHVybiBCb29sZWFuKCghc2VjdXJlICYmIHBvcnQgPT09IDgwKSB8fCAoc2VjdXJlICYmIHBvcnQgPT09IDQ0MykpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xucmVxdWlyZSgnLi9wYXRjaC1jb3JlJyk7XG5jb25zdCBpbmhlcml0cyA9IHJlcXVpcmUoJ3V0aWwnKS5pbmhlcml0cztcbmNvbnN0IHByb21pc2lmeSA9IHJlcXVpcmUoJ2VzNi1wcm9taXNpZnknKTtcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxubW9kdWxlLmV4cG9ydHMgPSBBZ2VudDtcblxuZnVuY3Rpb24gaXNBZ2VudCh2KSB7XG4gIHJldHVybiB2ICYmIHR5cGVvZiB2LmFkZFJlcXVlc3QgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogQmFzZSBgaHR0cC5BZ2VudGAgaW1wbGVtZW50YXRpb24uXG4gKiBObyBwb29saW5nL2tlZXAtYWxpdmUgaXMgaW1wbGVtZW50ZWQgYnkgZGVmYXVsdC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQGFwaSBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gQWdlbnQoY2FsbGJhY2ssIF9vcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBZ2VudCkpIHtcbiAgICByZXR1cm4gbmV3IEFnZW50KGNhbGxiYWNrLCBfb3B0cyk7XG4gIH1cblxuICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAvLyBUaGUgY2FsbGJhY2sgZ2V0cyBwcm9taXNpZmllZCBpZiBpdCBoYXMgMyBwYXJhbWV0ZXJzXG4gIC8vIChpLmUuIGl0IGhhcyBhIGNhbGxiYWNrIGZ1bmN0aW9uKSBsYXppbHlcbiAgdGhpcy5fcHJvbWlzaWZpZWRDYWxsYmFjayA9IGZhbHNlO1xuXG4gIGxldCBvcHRzID0gX29wdHM7XG4gIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgY2FsbGJhY2spIHtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICBvcHRzID0gY2FsbGJhY2s7XG4gIH1cblxuICAvLyB0aW1lb3V0IGZvciB0aGUgc29ja2V0IHRvIGJlIHJldHVybmVkIGZyb20gdGhlIGNhbGxiYWNrXG4gIHRoaXMudGltZW91dCA9IChvcHRzICYmIG9wdHMudGltZW91dCkgfHwgbnVsbDtcblxuICB0aGlzLm9wdGlvbnMgPSBvcHRzO1xufVxuaW5oZXJpdHMoQWdlbnQsIEV2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogT3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiBpbiB5b3VyIHN1YmNsYXNzIVxuICovXG5BZ2VudC5wcm90b3R5cGUuY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjayhyZXEsIG9wdHMpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICdcImFnZW50LWJhc2VcIiBoYXMgbm8gZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiwgeW91IG11c3Qgc3ViY2xhc3MgYW5kIG92ZXJyaWRlIGBjYWxsYmFjaygpYCdcbiAgKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIGJ5IG5vZGUtY29yZSdzIFwiX2h0dHBfY2xpZW50LmpzXCIgbW9kdWxlIHdoZW4gY3JlYXRpbmdcbiAqIGEgbmV3IEhUVFAgcmVxdWVzdCB3aXRoIHRoaXMgQWdlbnQgaW5zdGFuY2UuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQWdlbnQucHJvdG90eXBlLmFkZFJlcXVlc3QgPSBmdW5jdGlvbiBhZGRSZXF1ZXN0KHJlcSwgX29wdHMpIHtcbiAgY29uc3Qgb3duT3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIF9vcHRzKTtcblxuICAvLyBTZXQgZGVmYXVsdCBgaG9zdGAgZm9yIEhUVFAgdG8gbG9jYWxob3N0XG4gIGlmIChudWxsID09IG93bk9wdHMuaG9zdCkge1xuICAgIG93bk9wdHMuaG9zdCA9ICdsb2NhbGhvc3QnO1xuICB9XG5cbiAgLy8gU2V0IGRlZmF1bHQgYHBvcnRgIGZvciBIVFRQIGlmIG5vbmUgd2FzIGV4cGxpY2l0bHkgc3BlY2lmaWVkXG4gIGlmIChudWxsID09IG93bk9wdHMucG9ydCkge1xuICAgIG93bk9wdHMucG9ydCA9IG93bk9wdHMuc2VjdXJlRW5kcG9pbnQgPyA0NDMgOiA4MDtcbiAgfVxuXG4gIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMsIG93bk9wdHMpO1xuXG4gIGlmIChvcHRzLmhvc3QgJiYgb3B0cy5wYXRoKSB7XG4gICAgLy8gSWYgYm90aCBhIGBob3N0YCBhbmQgYHBhdGhgIGFyZSBzcGVjaWZpZWQgdGhlbiBpdCdzIG1vc3QgbGlrZWx5IHRoZVxuICAgIC8vIHJlc3VsdCBvZiBhIGB1cmwucGFyc2UoKWAgY2FsbC4uLiB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgYHBhdGhgIHBvcnRpb24gc29cbiAgICAvLyB0aGF0IGBuZXQuY29ubmVjdCgpYCBkb2Vzbid0IGF0dGVtcHQgdG8gb3BlbiB0aGF0IGFzIGEgdW5peCBzb2NrZXQgZmlsZS5cbiAgICBkZWxldGUgb3B0cy5wYXRoO1xuICB9XG5cbiAgZGVsZXRlIG9wdHMuYWdlbnQ7XG4gIGRlbGV0ZSBvcHRzLmhvc3RuYW1lO1xuICBkZWxldGUgb3B0cy5fZGVmYXVsdEFnZW50O1xuICBkZWxldGUgb3B0cy5kZWZhdWx0UG9ydDtcbiAgZGVsZXRlIG9wdHMuY3JlYXRlQ29ubmVjdGlvbjtcblxuICAvLyBIaW50IHRvIHVzZSBcIkNvbm5lY3Rpb246IGNsb3NlXCJcbiAgLy8gWFhYOiBub24tZG9jdW1lbnRlZCBgaHR0cGAgbW9kdWxlIEFQSSA6KFxuICByZXEuX2xhc3QgPSB0cnVlO1xuICByZXEuc2hvdWxkS2VlcEFsaXZlID0gZmFsc2U7XG5cbiAgLy8gQ3JlYXRlIHRoZSBgc3RyZWFtLkR1cGxleGAgaW5zdGFuY2VcbiAgbGV0IHRpbWVvdXQ7XG4gIGxldCB0aW1lZE91dCA9IGZhbHNlO1xuICBjb25zdCB0aW1lb3V0TXMgPSB0aGlzLnRpbWVvdXQ7XG4gIGNvbnN0IGZyZWVTb2NrZXQgPSB0aGlzLmZyZWVTb2NrZXQ7XG5cbiAgZnVuY3Rpb24gb25lcnJvcihlcnIpIHtcbiAgICBpZiAocmVxLl9oYWRFcnJvcikgcmV0dXJuO1xuICAgIHJlcS5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgLy8gRm9yIFNhZmV0eS4gU29tZSBhZGRpdGlvbmFsIGVycm9ycyBtaWdodCBmaXJlIGxhdGVyIG9uXG4gICAgLy8gYW5kIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IGRvdWJsZS1maXJlIHRoZSBlcnJvciBldmVudC5cbiAgICByZXEuX2hhZEVycm9yID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9udGltZW91dCgpIHtcbiAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB0aW1lZE91dCA9IHRydWU7XG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgJ0EgXCJzb2NrZXRcIiB3YXMgbm90IGNyZWF0ZWQgZm9yIEhUVFAgcmVxdWVzdCBiZWZvcmUgJyArIHRpbWVvdXRNcyArICdtcydcbiAgICApO1xuICAgIGVyci5jb2RlID0gJ0VUSU1FT1VUJztcbiAgICBvbmVycm9yKGVycik7XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsYmFja0Vycm9yKGVycikge1xuICAgIGlmICh0aW1lZE91dCkgcmV0dXJuO1xuICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgICBvbmVycm9yKGVycik7XG4gIH1cblxuICBmdW5jdGlvbiBvbnNvY2tldChzb2NrZXQpIHtcbiAgICBpZiAodGltZWRPdXQpIHJldHVybjtcbiAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGlzQWdlbnQoc29ja2V0KSkge1xuICAgICAgLy8gYHNvY2tldGAgaXMgYWN0dWFsbHkgYW4gaHR0cC5BZ2VudCBpbnN0YW5jZSwgc28gcmVsaW5xdWlzaFxuICAgICAgLy8gcmVzcG9uc2liaWxpdHkgZm9yIHRoaXMgYHJlcWAgdG8gdGhlIEFnZW50IGZyb20gaGVyZSBvblxuICAgICAgc29ja2V0LmFkZFJlcXVlc3QocmVxLCBvcHRzKTtcbiAgICB9IGVsc2UgaWYgKHNvY2tldCkge1xuICAgICAgZnVuY3Rpb24gb25mcmVlKCkge1xuICAgICAgICBmcmVlU29ja2V0KHNvY2tldCwgb3B0cyk7XG4gICAgICB9XG4gICAgICBzb2NrZXQub24oJ2ZyZWUnLCBvbmZyZWUpO1xuICAgICAgcmVxLm9uU29ja2V0KHNvY2tldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ25vIER1cGxleCBzdHJlYW0gd2FzIHJldHVybmVkIHRvIGFnZW50LWJhc2UgZm9yIGAnICsgcmVxLm1ldGhvZCArICcgJyArIHJlcS5wYXRoICsgJ2AnXG4gICAgICApO1xuICAgICAgb25lcnJvcihlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghdGhpcy5fcHJvbWlzaWZpZWRDYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrLmxlbmd0aCA+PSAzKSB7XG4gICAgLy8gTGVnYWN5IGNhbGxiYWNrIGZ1bmN0aW9uIC0gY29udmVydCB0byBhIFByb21pc2VcbiAgICB0aGlzLmNhbGxiYWNrID0gcHJvbWlzaWZ5KHRoaXMuY2FsbGJhY2ssIHRoaXMpO1xuICAgIHRoaXMuX3Byb21pc2lmaWVkQ2FsbGJhY2sgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHRpbWVvdXRNcyA+IDApIHtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChvbnRpbWVvdXQsIHRpbWVvdXRNcyk7XG4gIH1cblxuICB0cnkge1xuICAgIFByb21pc2UucmVzb2x2ZSh0aGlzLmNhbGxiYWNrKHJlcSwgb3B0cykpLnRoZW4ob25zb2NrZXQsIGNhbGxiYWNrRXJyb3IpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBQcm9taXNlLnJlamVjdChlcnIpLmNhdGNoKGNhbGxiYWNrRXJyb3IpO1xuICB9XG59O1xuXG5BZ2VudC5wcm90b3R5cGUuZnJlZVNvY2tldCA9IGZ1bmN0aW9uIGZyZWVTb2NrZXQoc29ja2V0LCBvcHRzKSB7XG4gIC8vIFRPRE8gcmV1c2Ugc29ja2V0c1xuICBzb2NrZXQuZGVzdHJveSgpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbmNvbnN0IHVybCA9IHJlcXVpcmUoJ3VybCcpO1xuY29uc3QgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpO1xuXG4vKipcbiAqIFRoaXMgY3VycmVudGx5IG5lZWRzIHRvIGJlIGFwcGxpZWQgdG8gYWxsIE5vZGUuanMgdmVyc2lvbnNcbiAqIGluIG9yZGVyIHRvIGRldGVybWluZSBpZiB0aGUgYHJlcWAgaXMgYW4gSFRUUCBvciBIVFRQUyByZXF1ZXN0LlxuICpcbiAqIFRoZXJlIGlzIGN1cnJlbnRseSBubyBQUiBhdHRlbXB0aW5nIHRvIG1vdmUgdGhpcyBwcm9wZXJ0eSB1cHN0cmVhbS5cbiAqL1xuY29uc3QgcGF0Y2hNYXJrZXIgPSBcIl9fYWdlbnRfYmFzZV9odHRwc19yZXF1ZXN0X3BhdGNoZWRfX1wiO1xuaWYgKCFodHRwcy5yZXF1ZXN0W3BhdGNoTWFya2VyXSkge1xuICBodHRwcy5yZXF1ZXN0ID0gKGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oX29wdGlvbnMsIGNiKSB7XG4gICAgICBsZXQgb3B0aW9ucztcbiAgICAgIGlmICh0eXBlb2YgX29wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1cmwucGFyc2UoX29wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIF9vcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGlmIChudWxsID09IG9wdGlvbnMucG9ydCkge1xuICAgICAgICBvcHRpb25zLnBvcnQgPSA0NDM7XG4gICAgICB9XG4gICAgICBvcHRpb25zLnNlY3VyZUVuZHBvaW50ID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXF1ZXN0LmNhbGwoaHR0cHMsIG9wdGlvbnMsIGNiKTtcbiAgICB9O1xuICB9KShodHRwcy5yZXF1ZXN0KTtcbiAgaHR0cHMucmVxdWVzdFtwYXRjaE1hcmtlcl0gPSB0cnVlO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgbmVlZGVkIGZvciBOb2RlLmpzID49IDkuMC4wIHRvIG1ha2Ugc3VyZSBgaHR0cHMuZ2V0KClgIHVzZXMgdGhlXG4gKiBwYXRjaGVkIGBodHRwcy5yZXF1ZXN0KClgLlxuICpcbiAqIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2NvbW1pdC81MTE4ZjMxXG4gKi9cbmh0dHBzLmdldCA9IGZ1bmN0aW9uIChfdXJsLCBfb3B0aW9ucywgY2IpIHtcbiAgICBsZXQgb3B0aW9ucztcbiAgICBpZiAodHlwZW9mIF91cmwgPT09ICdzdHJpbmcnICYmIF9vcHRpb25zICYmIHR5cGVvZiBfb3B0aW9ucyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHVybC5wYXJzZShfdXJsKSwgX29wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAoIV9vcHRpb25zICYmICFjYikge1xuICAgICAgb3B0aW9ucyA9IF91cmw7XG4gICAgfSBlbHNlIGlmICghY2IpIHtcbiAgICAgIG9wdGlvbnMgPSBfdXJsO1xuICAgICAgY2IgPSBfb3B0aW9ucztcbiAgICB9XG5cbiAgY29uc3QgcmVxID0gaHR0cHMucmVxdWVzdChvcHRpb25zLCBjYik7XG4gIHJlcS5lbmQoKTtcbiAgcmV0dXJuIHJlcTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyogZ2xvYmFsIG1vZHVsZSwgcmVxdWlyZSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8vIEdldCBhIHByb21pc2Ugb2JqZWN0LiBUaGlzIG1heSBiZSBuYXRpdmUsIG9yIGl0IG1heSBiZSBwb2x5ZmlsbGVkXG5cbiAgICB2YXIgRVM2UHJvbWlzZSA9IHJlcXVpcmUoXCIuL3Byb21pc2UuanNcIik7XG5cbiAgICAvKipcbiAgICAgKiB0aGF0TG9va3NMaWtlQVByb21pc2VUb01lKClcbiAgICAgKlxuICAgICAqIER1Y2stdHlwZXMgYSBwcm9taXNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9cbiAgICAgKiBAcmV0dXJuIHtib29sfSBUcnVlIGlmIHRoaXMgcmVzZW1ibGVzIGEgcHJvbWlzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRoYXRMb29rc0xpa2VBUHJvbWlzZVRvTWUobykge1xuICAgICAgICByZXR1cm4gbyAmJiB0eXBlb2Ygby50aGVuID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG8uY2F0Y2ggPT09IFwiZnVuY3Rpb25cIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwcm9taXNpZnkoKVxuICAgICAqXG4gICAgICogVHJhbnNmb3JtcyBjYWxsYmFjay1iYXNlZCBmdW5jdGlvbiAtLSBmdW5jKGFyZzEsIGFyZzIgLi4gYXJnTiwgY2FsbGJhY2spIC0tIGludG9cbiAgICAgKiBhbiBFUzYtY29tcGF0aWJsZSBQcm9taXNlLiBQcm9taXNpZnkgcHJvdmlkZXMgYSBkZWZhdWx0IGNhbGxiYWNrIG9mIHRoZSBmb3JtIChlcnJvciwgcmVzdWx0KVxuICAgICAqIGFuZCByZWplY3RzIHdoZW4gYGVycm9yYCBpcyB0cnV0aHkuIFlvdSBjYW4gYWxzbyBzdXBwbHkgc2V0dGluZ3Mgb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcmlnaW5hbCAtIFRoZSBmdW5jdGlvbiB0byBwcm9taXNpZnlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MgLSBTZXR0aW5ncyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3MudGhpc0FyZyAtIEEgYHRoaXNgIGNvbnRleHQgdG8gdXNlLiBJZiBub3Qgc2V0LCBhc3N1bWUgYHNldHRpbmdzYCBfaXNfIGB0aGlzQXJnYFxuICAgICAqIEBwYXJhbSB7Ym9vbH0gc2V0dGluZ3MubXVsdGlBcmdzIC0gU2hvdWxkIG11bHRpcGxlIGFyZ3VtZW50cyBiZSByZXR1cm5lZCBhcyBhbiBhcnJheT9cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gQSBwcm9taXNpZmllZCB2ZXJzaW9uIG9mIGBvcmlnaW5hbGBcbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gcHJvbWlzaWZ5KG9yaWdpbmFsLCBzZXR0aW5ncykge1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZXR1cm5NdWx0aXBsZUFyZ3VtZW50cyA9IHNldHRpbmdzICYmIHNldHRpbmdzLm11bHRpQXJncztcblxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncyAmJiBzZXR0aW5ncy50aGlzQXJnKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gc2V0dGluZ3MudGhpc0FyZztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBzZXR0aW5ncztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBwcm9taXNpZmllZCBmdW5jdGlvblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFUzZQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgY2FsbGJhY2sgYm91bmQgdG8gdGhlIGNvbnRleHRcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goZnVuY3Rpb24gY2FsbGJhY2soZXJyKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsc2UgPT09ICEhcmV0dXJuTXVsdGlwbGVBcmd1bWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHZhbHVlc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBmdW5jdGlvblxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IG9yaWdpbmFsLmFwcGx5KHRhcmdldCwgYXJncyk7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiBpdCBsb29rcyBsaWtlIG9yaWdpbmFsIGFscmVhZHkgcmV0dXJucyBhIHByb21pc2UsXG4gICAgICAgICAgICAgICAgLy8gdGhlbiBqdXN0IHJlc29sdmUgd2l0aCB0aGF0IHByb21pc2UuIEhvcGVmdWxseSwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdlIGFkZGVkIHdpbGwganVzdCBiZSBpZ25vcmVkLlxuICAgICAgICAgICAgICAgIGlmICh0aGF0TG9va3NMaWtlQVByb21pc2VUb01lKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9O1xufSgpOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBnbG9iYWwgc2VsZiwgd2luZG93LCBtb2R1bGUsIGdsb2JhbCwgcmVxdWlyZSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBnbG9iYWxPYmplY3QgPSB2b2lkIDA7XG5cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgfVxuXG4gICAgLy8gU2VlayB0aGUgZ2xvYmFsIG9iamVjdFxuICAgIGlmIChnbG9iYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBnbG9iYWxPYmplY3QgPSBnbG9iYWw7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cgIT09IHVuZGVmaW5lZCAmJiB3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgZ2xvYmFsT2JqZWN0ID0gd2luZG93O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbE9iamVjdCA9IHNlbGY7XG4gICAgfVxuXG4gICAgLy8gVGVzdCBmb3IgYW55IG5hdGl2ZSBwcm9taXNlIGltcGxlbWVudGF0aW9uLCBhbmQgaWYgdGhhdFxuICAgIC8vIGltcGxlbWVudGF0aW9uIGFwcGVhcnMgdG8gY29uZm9ybSB0byB0aGUgc3BlY2lmaWNhdG9uLlxuICAgIC8vIFRoaXMgY29kZSBtb3N0bHkgbmlja2VkIGZyb20gdGhlIGVzNi1wcm9taXNlIG1vZHVsZSBwb2x5ZmlsbFxuICAgIC8vIGFuZCB0aGVuIGZvb2xlZCB3aXRoLlxuICAgIHZhciBoYXNQcm9taXNlU3VwcG9ydCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLyBObyBwcm9taXNlIG9iamVjdCBhdCBhbGwsIGFuZCBpdCdzIGEgbm9uLXN0YXJ0ZXJcbiAgICAgICAgaWYgKCFnbG9iYWxPYmplY3QuaGFzT3duUHJvcGVydHkoXCJQcm9taXNlXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVyZSBpcyBhIFByb21pc2Ugb2JqZWN0LiBEb2VzIGl0IGNvbmZvcm0gdG8gdGhlIHNwZWM/XG4gICAgICAgIHZhciBQID0gZ2xvYmFsT2JqZWN0LlByb21pc2U7XG5cbiAgICAgICAgLy8gU29tZSBvZiB0aGVzZSBtZXRob2RzIGFyZSBtaXNzaW5nIGZyb21cbiAgICAgICAgLy8gRmlyZWZveC9DaHJvbWUgZXhwZXJpbWVudGFsIGltcGxlbWVudGF0aW9uc1xuICAgICAgICBpZiAoIVAuaGFzT3duUHJvcGVydHkoXCJyZXNvbHZlXCIpIHx8ICFQLmhhc093blByb3BlcnR5KFwicmVqZWN0XCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIVAuaGFzT3duUHJvcGVydHkoXCJhbGxcIikgfHwgIVAuaGFzT3duUHJvcGVydHkoXCJyYWNlXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbGRlciB2ZXJzaW9uIG9mIHRoZSBzcGVjIGhhZCBhIHJlc29sdmVyIG9iamVjdFxuICAgICAgICAvLyBhcyB0aGUgYXJnIHJhdGhlciB0aGFuIGEgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIHJlc29sdmUgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgIHZhciBwID0gbmV3IGdsb2JhbE9iamVjdC5Qcm9taXNlKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA9IHI7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihyZXNvbHZlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KCk7XG4gICAgfSgpO1xuXG4gICAgLy8gRXhwb3J0IHRoZSBuYXRpdmUgUHJvbWlzZSBpbXBsZW1lbnRhdGlvbiBpZiBpdFxuICAgIC8vIGxvb2tzIGxpa2UgaXQgbWF0Y2hlcyB0aGUgc3BlY1xuICAgIGlmIChoYXNQcm9taXNlU3VwcG9ydCkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsT2JqZWN0LlByb21pc2U7XG4gICAgfVxuXG4gICAgLy8gIE90aGVyd2lzZSwgcmV0dXJuIHRoZSBlczYtcHJvbWlzZSBwb2x5ZmlsbCBieSBAamFmZmF0aGVjYWtlLlxuICAgIHJldHVybiByZXF1aXJlKFwiZXM2LXByb21pc2VcIikuUHJvbWlzZTtcbn0oKTsiLCIvKiFcbiAqIEBvdmVydmlldyBlczYtcHJvbWlzZSAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzIChDb252ZXJzaW9uIHRvIEVTNiBBUEkgYnkgSmFrZSBBcmNoaWJhbGQpXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc3RlZmFucGVubmVyL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIHY0LjIuOCsxZTY4ZGNlNlxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC5FUzZQcm9taXNlID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuXG5cblxudmFyIF9pc0FycmF5ID0gdm9pZCAwO1xuaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG59XG5cbnZhciBpc0FycmF5ID0gX2lzQXJyYXk7XG5cbnZhciBsZW4gPSAwO1xudmFyIHZlcnR4TmV4dCA9IHZvaWQgMDtcbnZhciBjdXN0b21TY2hlZHVsZXJGbiA9IHZvaWQgMDtcblxudmFyIGFzYXAgPSBmdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgcXVldWVbbGVuXSA9IGNhbGxiYWNrO1xuICBxdWV1ZVtsZW4gKyAxXSA9IGFyZztcbiAgbGVuICs9IDI7XG4gIGlmIChsZW4gPT09IDIpIHtcbiAgICAvLyBJZiBsZW4gaXMgMiwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAvLyB3aWxsIGJlIHByb2Nlc3NlZCBieSB0aGlzIGZsdXNoIHRoYXQgd2UgYXJlIHNjaGVkdWxpbmcuXG4gICAgaWYgKGN1c3RvbVNjaGVkdWxlckZuKSB7XG4gICAgICBjdXN0b21TY2hlZHVsZXJGbihmbHVzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxlRmx1c2goKTtcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHNldFNjaGVkdWxlcihzY2hlZHVsZUZuKSB7XG4gIGN1c3RvbVNjaGVkdWxlckZuID0gc2NoZWR1bGVGbjtcbn1cblxuZnVuY3Rpb24gc2V0QXNhcChhc2FwRm4pIHtcbiAgYXNhcCA9IGFzYXBGbjtcbn1cblxudmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbnZhciBicm93c2VyR2xvYmFsID0gYnJvd3NlcldpbmRvdyB8fCB7fTtcbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIGlmICh0eXBlb2YgdmVydHhOZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2ZXJ0eE5leHQoZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyO1xuICB9O1xufVxuXG4vLyB3ZWIgd29ya2VyXG5mdW5jdGlvbiB1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gZXM2LXByb21pc2Ugd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4gIC8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxuICB2YXIgZ2xvYmFsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbFNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZVtpICsgMV07XG5cbiAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgcXVldWVbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnR4KCkge1xuICB0cnkge1xuICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkucmVxdWlyZSgndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdm9pZCAwO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICB2YXIgcGFyZW50ID0gdGhpcztcblxuICB2YXIgY2hpbGQgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihub29wKTtcblxuICBpZiAoY2hpbGRbUFJPTUlTRV9JRF0gPT09IHVuZGVmaW5lZCkge1xuICAgIG1ha2VQcm9taXNlKGNoaWxkKTtcbiAgfVxuXG4gIHZhciBfc3RhdGUgPSBwYXJlbnQuX3N0YXRlO1xuXG5cbiAgaWYgKF9zdGF0ZSkge1xuICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1tfc3RhdGUgLSAxXTtcbiAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjayhfc3RhdGUsIGNoaWxkLCBjYWxsYmFjaywgcGFyZW50Ll9yZXN1bHQpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gIH1cblxuICByZXR1cm4gY2hpbGQ7XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZXNvbHZlYCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIHJlc29sdmVkIHdpdGggdGhlXG4gIHBhc3NlZCBgdmFsdWVgLiBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVzb2x2ZSgxKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoMSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZXNvbHZlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHZhbHVlIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIGdpdmVuXG4gIGB2YWx1ZWBcbiovXG5mdW5jdGlvbiByZXNvbHZlJDEob2JqZWN0KSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IENvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuICByZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgUFJPTUlTRV9JRCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBQRU5ESU5HID0gdm9pZCAwO1xudmFyIEZVTEZJTExFRCA9IDE7XG52YXIgUkVKRUNURUQgPSAyO1xuXG5mdW5jdGlvbiBzZWxmRnVsZmlsbG1lbnQoKSB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IGNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKTtcbn1cblxuZnVuY3Rpb24gY2Fubm90UmV0dXJuT3duKCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xufVxuXG5mdW5jdGlvbiB0cnlUaGVuKHRoZW4kJDEsIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgdHJ5IHtcbiAgICB0aGVuJCQxLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4kJDEpIHtcbiAgYXNhcChmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICB2YXIgZXJyb3IgPSB0cnlUaGVuKHRoZW4kJDEsIHRoZW5hYmxlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChzZWFsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfVxuICB9LCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZSh0aGVuYWJsZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQxKSB7XG4gIGlmIChtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yID09PSBwcm9taXNlLmNvbnN0cnVjdG9yICYmIHRoZW4kJDEgPT09IHRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSByZXNvbHZlJDEpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiQkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuJCQxKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgdGhlbiQkMSA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdGhlbiQkMSA9IHZhbHVlLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIHRoZW4kJDEpO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHZvaWQgMCxcbiAgICAgIGVycm9yID0gdm9pZCAwLFxuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgZXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gIH1cblxuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAvLyBub29wXG4gIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3VjY2VlZGVkID09PSBmYWxzZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgfVxufVxuXG52YXIgaWQgPSAwO1xuZnVuY3Rpb24gbmV4dElkKCkge1xuICByZXR1cm4gaWQrKztcbn1cblxuZnVuY3Rpb24gbWFrZVByb21pc2UocHJvbWlzZSkge1xuICBwcm9taXNlW1BST01JU0VfSURdID0gaWQrKztcbiAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn1cblxudmFyIEVudW1lcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEVudW1lcmF0b3IoQ29uc3RydWN0b3IsIGlucHV0KSB7XG4gICAgdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcblxuICAgIGlmICghdGhpcy5wcm9taXNlW1BST01JU0VfSURdKSB7XG4gICAgICBtYWtlUHJvbWlzZSh0aGlzLnByb21pc2UpO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgdGhpcy5sZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICB0aGlzLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG5cbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMDtcbiAgICAgICAgdGhpcy5fZW51bWVyYXRlKGlucHV0KTtcbiAgICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlamVjdCh0aGlzLnByb21pc2UsIHZhbGlkYXRpb25FcnJvcigpKTtcbiAgICB9XG4gIH1cblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZW51bWVyYXRlID0gZnVuY3Rpb24gX2VudW1lcmF0ZShpbnB1dCkge1xuICAgIGZvciAodmFyIGkgPSAwOyB0aGlzLl9zdGF0ZSA9PT0gUEVORElORyAmJiBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX2VhY2hFbnRyeShpbnB1dFtpXSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9lYWNoRW50cnkgPSBmdW5jdGlvbiBfZWFjaEVudHJ5KGVudHJ5LCBpKSB7XG4gICAgdmFyIGMgPSB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yO1xuICAgIHZhciByZXNvbHZlJCQxID0gYy5yZXNvbHZlO1xuXG5cbiAgICBpZiAocmVzb2x2ZSQkMSA9PT0gcmVzb2x2ZSQxKSB7XG4gICAgICB2YXIgX3RoZW4gPSB2b2lkIDA7XG4gICAgICB2YXIgZXJyb3IgPSB2b2lkIDA7XG4gICAgICB2YXIgZGlkRXJyb3IgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIF90aGVuID0gZW50cnkudGhlbjtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZGlkRXJyb3IgPSB0cnVlO1xuICAgICAgICBlcnJvciA9IGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhlbiA9PT0gdGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UkMSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBjKG5vb3ApO1xuICAgICAgICBpZiAoZGlkRXJyb3IpIHtcbiAgICAgICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgZW50cnksIF90aGVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24gKHJlc29sdmUkJDEpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSQkMShlbnRyeSk7XG4gICAgICAgIH0pLCBpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHJlc29sdmUkJDEoZW50cnkpLCBpKTtcbiAgICB9XG4gIH07XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uIF9zZXR0bGVkQXQoc3RhdGUsIGksIHZhbHVlKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cblxuICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gUEVORElORykge1xuICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICB9XG4gIH07XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdCA9IGZ1bmN0aW9uIF93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSkge1xuICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgIHN1YnNjcmliZShwcm9taXNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChGVUxGSUxMRUQsIGksIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KFJFSkVDVEVELCBpLCByZWFzb24pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBFbnVtZXJhdG9yO1xufSgpO1xuXG4vKipcbiAgYFByb21pc2UuYWxsYCBhY2NlcHRzIGFuIGFycmF5IG9mIHByb21pc2VzLCBhbmQgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoXG4gIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IG9mIGZ1bGZpbGxtZW50IHZhbHVlcyBmb3IgdGhlIHBhc3NlZCBwcm9taXNlcywgb3JcbiAgcmVqZWN0ZWQgd2l0aCB0aGUgcmVhc29uIG9mIHRoZSBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBiZSByZWplY3RlZC4gSXQgY2FzdHMgYWxsXG4gIGVsZW1lbnRzIG9mIHRoZSBwYXNzZWQgaXRlcmFibGUgdG8gcHJvbWlzZXMgYXMgaXQgcnVucyB0aGlzIGFsZ29yaXRobS5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gcmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gcmVzb2x2ZSgyKTtcbiAgbGV0IHByb21pc2UzID0gcmVzb2x2ZSgzKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIFRoZSBhcnJheSBoZXJlIHdvdWxkIGJlIFsgMSwgMiwgMyBdO1xuICB9KTtcbiAgYGBgXG5cbiAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBhbGxgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSByZXR1cm5lZCBwcm9taXNlcydzXG4gIHJlamVjdGlvbiBoYW5kbGVyLiBGb3IgZXhhbXBsZTpcblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gcmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gcmVqZWN0KG5ldyBFcnJvcihcIjJcIikpO1xuICBsZXQgcHJvbWlzZTMgPSByZWplY3QobmV3IEVycm9yKFwiM1wiKSk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVucyBiZWNhdXNlIHRoZXJlIGFyZSByZWplY3RlZCBwcm9taXNlcyFcbiAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAvLyBlcnJvci5tZXNzYWdlID09PSBcIjJcIlxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBhbGxcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBlbnRyaWVzIGFycmF5IG9mIHByb21pc2VzXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBhbGwgYHByb21pc2VzYCBoYXZlIGJlZW5cbiAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuXG4gIEBzdGF0aWNcbiovXG5mdW5jdGlvbiBhbGwoZW50cmllcykge1xuICByZXR1cm4gbmV3IEVudW1lcmF0b3IodGhpcywgZW50cmllcykucHJvbWlzZTtcbn1cblxuLyoqXG4gIGBQcm9taXNlLnJhY2VgIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaCBpcyBzZXR0bGVkIGluIHRoZSBzYW1lIHdheSBhcyB0aGVcbiAgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gc2V0dGxlLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMScpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuXG4gIGxldCBwcm9taXNlMiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAyJyk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gcmVzdWx0ID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIGl0IHdhcyByZXNvbHZlZCBiZWZvcmUgcHJvbWlzZTFcbiAgICAvLyB3YXMgcmVzb2x2ZWQuXG4gIH0pO1xuICBgYGBcblxuICBgUHJvbWlzZS5yYWNlYCBpcyBkZXRlcm1pbmlzdGljIGluIHRoYXQgb25seSB0aGUgc3RhdGUgb2YgdGhlIGZpcnN0XG4gIHNldHRsZWQgcHJvbWlzZSBtYXR0ZXJzLiBGb3IgZXhhbXBsZSwgZXZlbiBpZiBvdGhlciBwcm9taXNlcyBnaXZlbiB0byB0aGVcbiAgYHByb21pc2VzYCBhcnJheSBhcmd1bWVudCBhcmUgcmVzb2x2ZWQsIGJ1dCB0aGUgZmlyc3Qgc2V0dGxlZCBwcm9taXNlIGhhc1xuICBiZWNvbWUgcmVqZWN0ZWQgYmVmb3JlIHRoZSBvdGhlciBwcm9taXNlcyBiZWNhbWUgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWRcbiAgcHJvbWlzZSB3aWxsIGJlY29tZSByZWplY3RlZDpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdwcm9taXNlIDInKSk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnNcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ3Byb21pc2UgMicgYmVjYXVzZSBwcm9taXNlIDIgYmVjYW1lIHJlamVjdGVkIGJlZm9yZVxuICAgIC8vIHByb21pc2UgMSBiZWNhbWUgZnVsZmlsbGVkXG4gIH0pO1xuICBgYGBcblxuICBBbiBleGFtcGxlIHJlYWwtd29ybGQgdXNlIGNhc2UgaXMgaW1wbGVtZW50aW5nIHRpbWVvdXRzOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgUHJvbWlzZS5yYWNlKFthamF4KCdmb28uanNvbicpLCB0aW1lb3V0KDUwMDApXSlcbiAgYGBgXG5cbiAgQG1ldGhvZCByYWNlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXMgYXJyYXkgb2YgcHJvbWlzZXMgdG8gb2JzZXJ2ZVxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB3aGljaCBzZXR0bGVzIGluIHRoZSBzYW1lIHdheSBhcyB0aGUgZmlyc3QgcGFzc2VkXG4gIHByb21pc2UgdG8gc2V0dGxlLlxuKi9cbmZ1bmN0aW9uIHJhY2UoZW50cmllcykge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShlbnRyaWVzKSkge1xuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuJykpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBDb25zdHJ1Y3Rvci5yZXNvbHZlKGVudHJpZXNbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAgYFByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmZ1bmN0aW9uIHJlamVjdCQxKHJlYXNvbikge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBuZWVkc1Jlc29sdmVyKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG59XG5cbmZ1bmN0aW9uIG5lZWRzTmV3KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xufVxuXG4vKipcbiAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLCB3aGljaFxuICByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZSByZWFzb25cbiAgd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgVGVybWlub2xvZ3lcbiAgLS0tLS0tLS0tLS1cblxuICAtIGBwcm9taXNlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gd2l0aCBhIGB0aGVuYCBtZXRob2Qgd2hvc2UgYmVoYXZpb3IgY29uZm9ybXMgdG8gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAtIGB0aGVuYWJsZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyBhIGB0aGVuYCBtZXRob2QuXG4gIC0gYHZhbHVlYCBpcyBhbnkgbGVnYWwgSmF2YVNjcmlwdCB2YWx1ZSAoaW5jbHVkaW5nIHVuZGVmaW5lZCwgYSB0aGVuYWJsZSwgb3IgYSBwcm9taXNlKS5cbiAgLSBgZXhjZXB0aW9uYCBpcyBhIHZhbHVlIHRoYXQgaXMgdGhyb3duIHVzaW5nIHRoZSB0aHJvdyBzdGF0ZW1lbnQuXG4gIC0gYHJlYXNvbmAgaXMgYSB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aHkgYSBwcm9taXNlIHdhcyByZWplY3RlZC5cbiAgLSBgc2V0dGxlZGAgdGhlIGZpbmFsIHJlc3Rpbmcgc3RhdGUgb2YgYSBwcm9taXNlLCBmdWxmaWxsZWQgb3IgcmVqZWN0ZWQuXG5cbiAgQSBwcm9taXNlIGNhbiBiZSBpbiBvbmUgb2YgdGhyZWUgc3RhdGVzOiBwZW5kaW5nLCBmdWxmaWxsZWQsIG9yIHJlamVjdGVkLlxuXG4gIFByb21pc2VzIHRoYXQgYXJlIGZ1bGZpbGxlZCBoYXZlIGEgZnVsZmlsbG1lbnQgdmFsdWUgYW5kIGFyZSBpbiB0aGUgZnVsZmlsbGVkXG4gIHN0YXRlLiAgUHJvbWlzZXMgdGhhdCBhcmUgcmVqZWN0ZWQgaGF2ZSBhIHJlamVjdGlvbiByZWFzb24gYW5kIGFyZSBpbiB0aGVcbiAgcmVqZWN0ZWQgc3RhdGUuICBBIGZ1bGZpbGxtZW50IHZhbHVlIGlzIG5ldmVyIGEgdGhlbmFibGUuXG5cbiAgUHJvbWlzZXMgY2FuIGFsc28gYmUgc2FpZCB0byAqcmVzb2x2ZSogYSB2YWx1ZS4gIElmIHRoaXMgdmFsdWUgaXMgYWxzbyBhXG4gIHByb21pc2UsIHRoZW4gdGhlIG9yaWdpbmFsIHByb21pc2UncyBzZXR0bGVkIHN0YXRlIHdpbGwgbWF0Y2ggdGhlIHZhbHVlJ3NcbiAgc2V0dGxlZCBzdGF0ZS4gIFNvIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aWxsXG4gIGl0c2VsZiByZWplY3QsIGFuZCBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpbGxcbiAgaXRzZWxmIGZ1bGZpbGwuXG5cblxuICBCYXNpYyBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tXG5cbiAgYGBganNcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAvLyBvbiBzdWNjZXNzXG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG5cbiAgICAvLyBvbiBmYWlsdXJlXG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgQWR2YW5jZWQgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLS0tLVxuXG4gIFByb21pc2VzIHNoaW5lIHdoZW4gYWJzdHJhY3RpbmcgYXdheSBhc3luY2hyb25vdXMgaW50ZXJhY3Rpb25zIHN1Y2ggYXNcbiAgYFhNTEh0dHBSZXF1ZXN0YHMuXG5cbiAgYGBganNcbiAgZnVuY3Rpb24gZ2V0SlNPTih1cmwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlcjtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHRoaXMuRE9ORSkge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdnZXRKU09OOiBgJyArIHVybCArICdgIGZhaWxlZCB3aXRoIHN0YXR1czogWycgKyB0aGlzLnN0YXR1cyArICddJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEpTT04oJy9wb3N0cy5qc29uJykudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBVbmxpa2UgY2FsbGJhY2tzLCBwcm9taXNlcyBhcmUgZ3JlYXQgY29tcG9zYWJsZSBwcmltaXRpdmVzLlxuXG4gIGBgYGpzXG4gIFByb21pc2UuYWxsKFtcbiAgICBnZXRKU09OKCcvcG9zdHMnKSxcbiAgICBnZXRKU09OKCcvY29tbWVudHMnKVxuICBdKS50aGVuKGZ1bmN0aW9uKHZhbHVlcyl7XG4gICAgdmFsdWVzWzBdIC8vID0+IHBvc3RzSlNPTlxuICAgIHZhbHVlc1sxXSAvLyA9PiBjb21tZW50c0pTT05cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0pO1xuICBgYGBcblxuICBAY2xhc3MgUHJvbWlzZVxuICBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlclxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEBjb25zdHJ1Y3RvclxuKi9cblxudmFyIFByb21pc2UkMSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcikge1xuICAgIHRoaXNbUFJPTUlTRV9JRF0gPSBuZXh0SWQoKTtcbiAgICB0aGlzLl9yZXN1bHQgPSB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgaWYgKG5vb3AgIT09IHJlc29sdmVyKSB7XG4gICAgICB0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicgJiYgbmVlZHNSZXNvbHZlcigpO1xuICAgICAgdGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPyBpbml0aWFsaXplUHJvbWlzZSh0aGlzLCByZXNvbHZlcikgOiBuZWVkc05ldygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICBUaGUgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCxcbiAgd2hpY2ggcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGVcbiAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHVzZXIpe1xuICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gdXNlciBpcyB1bmF2YWlsYWJsZSwgYW5kIHlvdSBhcmUgZ2l2ZW4gdGhlIHJlYXNvbiB3aHlcbiAgfSk7XG4gIGBgYFxuICAgQ2hhaW5pbmdcbiAgLS0tLS0tLS1cbiAgIFRoZSByZXR1cm4gdmFsdWUgb2YgYHRoZW5gIGlzIGl0c2VsZiBhIHByb21pc2UuICBUaGlzIHNlY29uZCwgJ2Rvd25zdHJlYW0nXG4gIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmaXJzdCBwcm9taXNlJ3MgZnVsZmlsbG1lbnRcbiAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gdXNlci5uYW1lO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuICdkZWZhdWx0IG5hbWUnO1xuICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgIC8vIElmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgdXNlck5hbWVgIHdpbGwgYmUgdGhlIHVzZXIncyBuYW1lLCBvdGhlcndpc2UgaXRcbiAgICAvLyB3aWxsIGJlIGAnZGVmYXVsdCBuYW1lJ2BcbiAgfSk7XG4gICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jyk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknKTtcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgIC8vIElmIGBmaW5kVXNlcmAgcmVqZWN0ZWQsIGByZWFzb25gIHdpbGwgYmUgJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknLlxuICB9KTtcbiAgYGBgXG4gIElmIHRoZSBkb3duc3RyZWFtIHByb21pc2UgZG9lcyBub3Qgc3BlY2lmeSBhIHJlamVjdGlvbiBoYW5kbGVyLCByZWplY3Rpb24gcmVhc29ucyB3aWxsIGJlIHByb3BhZ2F0ZWQgZnVydGhlciBkb3duc3RyZWFtLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgdGhyb3cgbmV3IFBlZGFnb2dpY2FsRXhjZXB0aW9uKCdVcHN0cmVhbSBlcnJvcicpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBUaGUgYFBlZGdhZ29jaWFsRXhjZXB0aW9uYCBpcyBwcm9wYWdhdGVkIGFsbCB0aGUgd2F5IGRvd24gdG8gaGVyZVxuICB9KTtcbiAgYGBgXG4gICBBc3NpbWlsYXRpb25cbiAgLS0tLS0tLS0tLS0tXG4gICBTb21ldGltZXMgdGhlIHZhbHVlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSB0byBhIGRvd25zdHJlYW0gcHJvbWlzZSBjYW4gb25seSBiZVxuICByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJldHVybmluZyBhIHByb21pc2UgaW4gdGhlXG4gIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBoYW5kbGVyLiBUaGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgdGhlbiBiZSBwZW5kaW5nXG4gIHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHNldHRsZWQuIFRoaXMgaXMgY2FsbGVkICphc3NpbWlsYXRpb24qLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgcmV0dXJuIGZpbmRDb21tZW50c0J5QXV0aG9yKHVzZXIpO1xuICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgIC8vIFRoZSB1c2VyJ3MgY29tbWVudHMgYXJlIG5vdyBhdmFpbGFibGVcbiAgfSk7XG4gIGBgYFxuICAgSWYgdGhlIGFzc2ltbGlhdGVkIHByb21pc2UgcmVqZWN0cywgdGhlbiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgYWxzbyByZWplY3QuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCBmdWxmaWxscywgd2UnbGwgaGF2ZSB0aGUgdmFsdWUgaGVyZVxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCByZWplY3RzLCB3ZSdsbCBoYXZlIHRoZSByZWFzb24gaGVyZVxuICB9KTtcbiAgYGBgXG4gICBTaW1wbGUgRXhhbXBsZVxuICAtLS0tLS0tLS0tLS0tLVxuICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICAgYGBgamF2YXNjcmlwdFxuICBsZXQgcmVzdWx0O1xuICAgdHJ5IHtcbiAgICByZXN1bHQgPSBmaW5kUmVzdWx0KCk7XG4gICAgLy8gc3VjY2Vzc1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAgIC8vIGZhaWx1cmVcbiAgfVxuICBgYGBcbiAgIEVycmJhY2sgRXhhbXBsZVxuICAgYGBganNcbiAgZmluZFJlc3VsdChmdW5jdGlvbihyZXN1bHQsIGVycil7XG4gICAgaWYgKGVycikge1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfVxuICB9KTtcbiAgYGBgXG4gICBQcm9taXNlIEV4YW1wbGU7XG4gICBgYGBqYXZhc2NyaXB0XG4gIGZpbmRSZXN1bHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gc3VjY2Vzc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIGZhaWx1cmVcbiAgfSk7XG4gIGBgYFxuICAgQWR2YW5jZWQgRXhhbXBsZVxuICAtLS0tLS0tLS0tLS0tLVxuICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICAgYGBgamF2YXNjcmlwdFxuICBsZXQgYXV0aG9yLCBib29rcztcbiAgIHRyeSB7XG4gICAgYXV0aG9yID0gZmluZEF1dGhvcigpO1xuICAgIGJvb2tzICA9IGZpbmRCb29rc0J5QXV0aG9yKGF1dGhvcik7XG4gICAgLy8gc3VjY2Vzc1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAgIC8vIGZhaWx1cmVcbiAgfVxuICBgYGBcbiAgIEVycmJhY2sgRXhhbXBsZVxuICAgYGBganNcbiAgIGZ1bmN0aW9uIGZvdW5kQm9va3MoYm9va3MpIHtcbiAgIH1cbiAgIGZ1bmN0aW9uIGZhaWx1cmUocmVhc29uKSB7XG4gICB9XG4gICBmaW5kQXV0aG9yKGZ1bmN0aW9uKGF1dGhvciwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBmYWlsdXJlKGVycik7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZpbmRCb29va3NCeUF1dGhvcihhdXRob3IsIGZ1bmN0aW9uKGJvb2tzLCBlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvdW5kQm9va3MoYm9va3MpO1xuICAgICAgICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgICAgICAgZmFpbHVyZShyZWFzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIH1cbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZEF1dGhvcigpLlxuICAgIHRoZW4oZmluZEJvb2tzQnlBdXRob3IpLlxuICAgIHRoZW4oZnVuY3Rpb24oYm9va3Mpe1xuICAgICAgLy8gZm91bmQgYm9va3NcbiAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gICBAbWV0aG9kIHRoZW5cbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25GdWxmaWxsZWRcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cbiAgLyoqXG4gIGBjYXRjaGAgaXMgc2ltcGx5IHN1Z2FyIGZvciBgdGhlbih1bmRlZmluZWQsIG9uUmVqZWN0aW9uKWAgd2hpY2ggbWFrZXMgaXQgdGhlIHNhbWVcbiAgYXMgdGhlIGNhdGNoIGJsb2NrIG9mIGEgdHJ5L2NhdGNoIHN0YXRlbWVudC5cbiAgYGBganNcbiAgZnVuY3Rpb24gZmluZEF1dGhvcigpe1xuICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkbid0IGZpbmQgdGhhdCBhdXRob3InKTtcbiAgfVxuICAvLyBzeW5jaHJvbm91c1xuICB0cnkge1xuICBmaW5kQXV0aG9yKCk7XG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH1cbiAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICBmaW5kQXV0aG9yKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfSk7XG4gIGBgYFxuICBAbWV0aG9kIGNhdGNoXG4gIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuXG4gIFByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gX2NhdGNoKG9uUmVqZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAgYGZpbmFsbHlgIHdpbGwgYmUgaW52b2tlZCByZWdhcmRsZXNzIG9mIHRoZSBwcm9taXNlJ3MgZmF0ZSBqdXN0IGFzIG5hdGl2ZVxuICAgIHRyeS9jYXRjaC9maW5hbGx5IGJlaGF2ZXNcbiAgXG4gICAgU3luY2hyb25vdXMgZXhhbXBsZTpcbiAgXG4gICAgYGBganNcbiAgICBmaW5kQXV0aG9yKCkge1xuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEF1dGhvcigpO1xuICAgIH1cbiAgXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmaW5kQXV0aG9yKCk7IC8vIHN1Y2NlZWQgb3IgZmFpbFxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgIHJldHVybiBmaW5kT3RoZXJBdXRoZXIoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8gYWx3YXlzIHJ1bnNcbiAgICAgIC8vIGRvZXNuJ3QgYWZmZWN0IHRoZSByZXR1cm4gdmFsdWVcbiAgICB9XG4gICAgYGBgXG4gIFxuICAgIEFzeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXtcbiAgICAgIC8vIGF1dGhvciB3YXMgZWl0aGVyIGZvdW5kLCBvciBub3RcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQG1ldGhvZCBmaW5hbGx5XG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSA9IGZ1bmN0aW9uIF9maW5hbGx5KGNhbGxiYWNrKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb21pc2UuY29uc3RydWN0b3I7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGNhbGxiYWNrLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgcmV0dXJuIFByb21pc2U7XG59KCk7XG5cblByb21pc2UkMS5wcm90b3R5cGUudGhlbiA9IHRoZW47XG5Qcm9taXNlJDEuYWxsID0gYWxsO1xuUHJvbWlzZSQxLnJhY2UgPSByYWNlO1xuUHJvbWlzZSQxLnJlc29sdmUgPSByZXNvbHZlJDE7XG5Qcm9taXNlJDEucmVqZWN0ID0gcmVqZWN0JDE7XG5Qcm9taXNlJDEuX3NldFNjaGVkdWxlciA9IHNldFNjaGVkdWxlcjtcblByb21pc2UkMS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlJDEuX2FzYXAgPSBhc2FwO1xuXG4vKmdsb2JhbCBzZWxmKi9cbmZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICB2YXIgbG9jYWwgPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZSQxO1xufVxuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlJDEucG9seWZpbGwgPSBwb2x5ZmlsbDtcblByb21pc2UkMS5Qcm9taXNlID0gUHJvbWlzZSQxO1xuXG5yZXR1cm4gUHJvbWlzZSQxO1xuXG59KSkpO1xuXG5cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXM2LXByb21pc2UubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBEZXRlY3QgRWxlY3Ryb24gcmVuZGVyZXIgLyBud2pzIHByb2Nlc3MsIHdoaWNoIGlzIG5vZGUsIGJ1dCB3ZSBzaG91bGRcbiAqIHRyZWF0IGFzIGEgYnJvd3Nlci5cbiAqL1xuaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCBwcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicgfHwgcHJvY2Vzcy5icm93c2VyID09PSB0cnVlIHx8IHByb2Nlc3MuX19ud2pzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9icm93c2VyLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbm9kZS5qcycpO1xufVxuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFsnIzAwMDBDQycsICcjMDAwMEZGJywgJyMwMDMzQ0MnLCAnIzAwMzNGRicsICcjMDA2NkNDJywgJyMwMDY2RkYnLCAnIzAwOTlDQycsICcjMDA5OUZGJywgJyMwMENDMDAnLCAnIzAwQ0MzMycsICcjMDBDQzY2JywgJyMwMENDOTknLCAnIzAwQ0NDQycsICcjMDBDQ0ZGJywgJyMzMzAwQ0MnLCAnIzMzMDBGRicsICcjMzMzM0NDJywgJyMzMzMzRkYnLCAnIzMzNjZDQycsICcjMzM2NkZGJywgJyMzMzk5Q0MnLCAnIzMzOTlGRicsICcjMzNDQzAwJywgJyMzM0NDMzMnLCAnIzMzQ0M2NicsICcjMzNDQzk5JywgJyMzM0NDQ0MnLCAnIzMzQ0NGRicsICcjNjYwMENDJywgJyM2NjAwRkYnLCAnIzY2MzNDQycsICcjNjYzM0ZGJywgJyM2NkNDMDAnLCAnIzY2Q0MzMycsICcjOTkwMENDJywgJyM5OTAwRkYnLCAnIzk5MzNDQycsICcjOTkzM0ZGJywgJyM5OUNDMDAnLCAnIzk5Q0MzMycsICcjQ0MwMDAwJywgJyNDQzAwMzMnLCAnI0NDMDA2NicsICcjQ0MwMDk5JywgJyNDQzAwQ0MnLCAnI0NDMDBGRicsICcjQ0MzMzAwJywgJyNDQzMzMzMnLCAnI0NDMzM2NicsICcjQ0MzMzk5JywgJyNDQzMzQ0MnLCAnI0NDMzNGRicsICcjQ0M2NjAwJywgJyNDQzY2MzMnLCAnI0NDOTkwMCcsICcjQ0M5OTMzJywgJyNDQ0NDMDAnLCAnI0NDQ0MzMycsICcjRkYwMDAwJywgJyNGRjAwMzMnLCAnI0ZGMDA2NicsICcjRkYwMDk5JywgJyNGRjAwQ0MnLCAnI0ZGMDBGRicsICcjRkYzMzAwJywgJyNGRjMzMzMnLCAnI0ZGMzM2NicsICcjRkYzMzk5JywgJyNGRjMzQ0MnLCAnI0ZGMzNGRicsICcjRkY2NjAwJywgJyNGRjY2MzMnLCAnI0ZGOTkwMCcsICcjRkY5OTMzJywgJyNGRkNDMDAnLCAnI0ZGQ0MzMyddO1xuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcblxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICAvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG4gIC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG4gIC8vIGV4cGxpY2l0bHlcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmICh3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHdpbmRvdy5wcm9jZXNzLl9fbndqcykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cblxuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXFwvKFxcZCspLykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gSXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcblxuXG4gIHJldHVybiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UgfHwgLy8gSXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCB3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpIHx8IC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSB8fCAvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pO1xufVxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICBhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArIHRoaXMubmFtZXNwYWNlICsgKHRoaXMudXNlQ29sb3JzID8gJyAlYycgOiAnICcpICsgYXJnc1swXSArICh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArICcrJyArIG1vZHVsZS5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF0aGlzLnVzZUNvbG9ycykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcbiAgYXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7IC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG4gIC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cbiAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIGlmIChtYXRjaCA9PT0gJyUlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGluZGV4Kys7XG5cbiAgICBpZiAobWF0Y2ggPT09ICclYycpIHtcbiAgICAgIC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcbiAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgdmFyIF9jb25zb2xlO1xuXG4gIC8vIFRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gIC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG4gIHJldHVybiAodHlwZW9mIGNvbnNvbGUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihjb25zb2xlKSkgPT09ICdvYmplY3QnICYmIGNvbnNvbGUubG9nICYmIChfY29uc29sZSA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZSwgYXJndW1lbnRzKTtcbn1cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG5hbWVzcGFjZXMpIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7Ly8gU3dhbGxvd1xuICAgIC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuICB9XG59XG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG5cbiAgdHJ5IHtcbiAgICByID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7fSAvLyBTd2FsbG93XG4gIC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuICAvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cblxuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gIHRyeSB7XG4gICAgLy8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuICAgIC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsvLyBTd2FsbG93XG4gICAgLy8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xudmFyIGZvcm1hdHRlcnMgPSBtb2R1bGUuZXhwb3J0cy5mb3JtYXR0ZXJzO1xuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24gKHYpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVycm9yLm1lc3NhZ2U7XG4gIH1cbn07XG5cbiIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xudmFyIHR0eSA9IHJlcXVpcmUoJ3R0eScpO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbi8qKlxuICogVGhpcyBpcyB0aGUgTm9kZS5qcyBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cblxuXG5leHBvcnRzLmluaXQgPSBpbml0O1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gWzYsIDIsIDMsIDQsIDUsIDFdO1xuXG50cnkge1xuICAvLyBPcHRpb25hbCBkZXBlbmRlbmN5IChhcyBpbiwgZG9lc24ndCBuZWVkIHRvIGJlIGluc3RhbGxlZCwgTk9UIGxpa2Ugb3B0aW9uYWxEZXBlbmRlbmNpZXMgaW4gcGFja2FnZS5qc29uKVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXG4gIHZhciBzdXBwb3J0c0NvbG9yID0gcmVxdWlyZSgnc3VwcG9ydHMtY29sb3InKTtcblxuICBpZiAoc3VwcG9ydHNDb2xvciAmJiAoc3VwcG9ydHNDb2xvci5zdGRlcnIgfHwgc3VwcG9ydHNDb2xvcikubGV2ZWwgPj0gMikge1xuICAgIGV4cG9ydHMuY29sb3JzID0gWzIwLCAyMSwgMjYsIDI3LCAzMiwgMzMsIDM4LCAzOSwgNDAsIDQxLCA0MiwgNDMsIDQ0LCA0NSwgNTYsIDU3LCA2MiwgNjMsIDY4LCA2OSwgNzQsIDc1LCA3NiwgNzcsIDc4LCA3OSwgODAsIDgxLCA5MiwgOTMsIDk4LCA5OSwgMTEyLCAxMTMsIDEyOCwgMTI5LCAxMzQsIDEzNSwgMTQ4LCAxNDksIDE2MCwgMTYxLCAxNjIsIDE2MywgMTY0LCAxNjUsIDE2NiwgMTY3LCAxNjgsIDE2OSwgMTcwLCAxNzEsIDE3MiwgMTczLCAxNzgsIDE3OSwgMTg0LCAxODUsIDE5NiwgMTk3LCAxOTgsIDE5OSwgMjAwLCAyMDEsIDIwMiwgMjAzLCAyMDQsIDIwNSwgMjA2LCAyMDcsIDIwOCwgMjA5LCAyMTQsIDIxNSwgMjIwLCAyMjFdO1xuICB9XG59IGNhdGNoIChlcnJvcikge30gLy8gU3dhbGxvdyAtIHdlIG9ubHkgY2FyZSBpZiBgc3VwcG9ydHMtY29sb3JgIGlzIGF2YWlsYWJsZTsgaXQgZG9lc24ndCBoYXZlIHRvIGJlLlxuXG4vKipcbiAqIEJ1aWxkIHVwIHRoZSBkZWZhdWx0IGBpbnNwZWN0T3B0c2Agb2JqZWN0IGZyb20gdGhlIGVudmlyb25tZW50IHZhcmlhYmxlcy5cbiAqXG4gKiAgICQgREVCVUdfQ09MT1JTPW5vIERFQlVHX0RFUFRIPTEwIERFQlVHX1NIT1dfSElEREVOPWVuYWJsZWQgbm9kZSBzY3JpcHQuanNcbiAqL1xuXG5cbmV4cG9ydHMuaW5zcGVjdE9wdHMgPSBPYmplY3Qua2V5cyhwcm9jZXNzLmVudikuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIC9eZGVidWdfL2kudGVzdChrZXkpO1xufSkucmVkdWNlKGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAvLyBDYW1lbC1jYXNlXG4gIHZhciBwcm9wID0ga2V5LnN1YnN0cmluZyg2KS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18oW2Etel0pL2csIGZ1bmN0aW9uIChfLCBrKSB7XG4gICAgcmV0dXJuIGsudG9VcHBlckNhc2UoKTtcbiAgfSk7IC8vIENvZXJjZSBzdHJpbmcgdmFsdWUgaW50byBKUyB2YWx1ZVxuXG4gIHZhciB2YWwgPSBwcm9jZXNzLmVudltrZXldO1xuXG4gIGlmICgvXih5ZXN8b258dHJ1ZXxlbmFibGVkKSQvaS50ZXN0KHZhbCkpIHtcbiAgICB2YWwgPSB0cnVlO1xuICB9IGVsc2UgaWYgKC9eKG5vfG9mZnxmYWxzZXxkaXNhYmxlZCkkL2kudGVzdCh2YWwpKSB7XG4gICAgdmFsID0gZmFsc2U7XG4gIH0gZWxzZSBpZiAodmFsID09PSAnbnVsbCcpIHtcbiAgICB2YWwgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHZhbCA9IE51bWJlcih2YWwpO1xuICB9XG5cbiAgb2JqW3Byb3BdID0gdmFsO1xuICByZXR1cm4gb2JqO1xufSwge30pO1xuLyoqXG4gKiBJcyBzdGRvdXQgYSBUVFk/IENvbG9yZWQgb3V0cHV0IGlzIGVuYWJsZWQgd2hlbiBgdHJ1ZWAuXG4gKi9cblxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICByZXR1cm4gJ2NvbG9ycycgaW4gZXhwb3J0cy5pbnNwZWN0T3B0cyA/IEJvb2xlYW4oZXhwb3J0cy5pbnNwZWN0T3B0cy5jb2xvcnMpIDogdHR5LmlzYXR0eShwcm9jZXNzLnN0ZGVyci5mZCk7XG59XG4vKipcbiAqIEFkZHMgQU5TSSBjb2xvciBlc2NhcGUgY29kZXMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIHZhciBuYW1lID0gdGhpcy5uYW1lc3BhY2UsXG4gICAgICB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblxuICBpZiAodXNlQ29sb3JzKSB7XG4gICAgdmFyIGMgPSB0aGlzLmNvbG9yO1xuICAgIHZhciBjb2xvckNvZGUgPSBcIlxceDFCWzNcIiArIChjIDwgOCA/IGMgOiAnODs1OycgKyBjKTtcbiAgICB2YXIgcHJlZml4ID0gXCIgIFwiLmNvbmNhdChjb2xvckNvZGUsIFwiOzFtXCIpLmNvbmNhdChuYW1lLCBcIiBcXHgxQlswbVwiKTtcbiAgICBhcmdzWzBdID0gcHJlZml4ICsgYXJnc1swXS5zcGxpdCgnXFxuJykuam9pbignXFxuJyArIHByZWZpeCk7XG4gICAgYXJncy5wdXNoKGNvbG9yQ29kZSArICdtKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpICsgXCJcXHgxQlswbVwiKTtcbiAgfSBlbHNlIHtcbiAgICBhcmdzWzBdID0gZ2V0RGF0ZSgpICsgbmFtZSArICcgJyArIGFyZ3NbMF07XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZSgpIHtcbiAgaWYgKGV4cG9ydHMuaW5zcGVjdE9wdHMuaGlkZURhdGUpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICByZXR1cm4gbmV3IERhdGUoKS50b0lTT1N0cmluZygpICsgJyAnO1xufVxuLyoqXG4gKiBJbnZva2VzIGB1dGlsLmZvcm1hdCgpYCB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzIGFuZCB3cml0ZXMgdG8gc3RkZXJyLlxuICovXG5cblxuZnVuY3Rpb24gbG9nKCkge1xuICByZXR1cm4gcHJvY2Vzcy5zdGRlcnIud3JpdGUodXRpbC5mb3JtYXQuYXBwbHkodXRpbCwgYXJndW1lbnRzKSArICdcXG4nKTtcbn1cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIGlmIChuYW1lc3BhY2VzKSB7XG4gICAgcHJvY2Vzcy5lbnYuREVCVUcgPSBuYW1lc3BhY2VzO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIHlvdSBzZXQgYSBwcm9jZXNzLmVudiBmaWVsZCB0byBudWxsIG9yIHVuZGVmaW5lZCwgaXQgZ2V0cyBjYXN0IHRvIHRoZVxuICAgIC8vIHN0cmluZyAnbnVsbCcgb3IgJ3VuZGVmaW5lZCcuIEp1c3QgZGVsZXRlIGluc3RlYWQuXG4gICAgZGVsZXRlIHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG59XG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgcmV0dXJuIHByb2Nlc3MuZW52LkRFQlVHO1xufVxuLyoqXG4gKiBJbml0IGxvZ2ljIGZvciBgZGVidWdgIGluc3RhbmNlcy5cbiAqXG4gKiBDcmVhdGUgYSBuZXcgYGluc3BlY3RPcHRzYCBvYmplY3QgaW4gY2FzZSBgdXNlQ29sb3JzYCBpcyBzZXRcbiAqIGRpZmZlcmVudGx5IGZvciBhIHBhcnRpY3VsYXIgYGRlYnVnYCBpbnN0YW5jZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGluaXQoZGVidWcpIHtcbiAgZGVidWcuaW5zcGVjdE9wdHMgPSB7fTtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhleHBvcnRzLmluc3BlY3RPcHRzKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBkZWJ1Zy5pbnNwZWN0T3B0c1trZXlzW2ldXSA9IGV4cG9ydHMuaW5zcGVjdE9wdHNba2V5c1tpXV07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xudmFyIGZvcm1hdHRlcnMgPSBtb2R1bGUuZXhwb3J0cy5mb3JtYXR0ZXJzO1xuLyoqXG4gKiBNYXAgJW8gdG8gYHV0aWwuaW5zcGVjdCgpYCwgYWxsIG9uIGEgc2luZ2xlIGxpbmUuXG4gKi9cblxuZm9ybWF0dGVycy5vID0gZnVuY3Rpb24gKHYpIHtcbiAgdGhpcy5pbnNwZWN0T3B0cy5jb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcbiAgcmV0dXJuIHV0aWwuaW5zcGVjdCh2LCB0aGlzLmluc3BlY3RPcHRzKS5yZXBsYWNlKC9cXHMqXFxuXFxzKi9nLCAnICcpO1xufTtcbi8qKlxuICogTWFwICVPIHRvIGB1dGlsLmluc3BlY3QoKWAsIGFsbG93aW5nIG11bHRpcGxlIGxpbmVzIGlmIG5lZWRlZC5cbiAqL1xuXG5cbmZvcm1hdHRlcnMuTyA9IGZ1bmN0aW9uICh2KSB7XG4gIHRoaXMuaW5zcGVjdE9wdHMuY29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG4gIHJldHVybiB1dGlsLmluc3BlY3QodiwgdGhpcy5pbnNwZWN0T3B0cyk7XG59O1xuXG4iLCIndXNlIHN0cmljdCc7XG5jb25zdCBvcyA9IHJlcXVpcmUoJ29zJyk7XG5jb25zdCBoYXNGbGFnID0gcmVxdWlyZSgnaGFzLWZsYWcnKTtcblxuY29uc3Qge2Vudn0gPSBwcm9jZXNzO1xuXG5sZXQgZm9yY2VDb2xvcjtcbmlmIChoYXNGbGFnKCduby1jb2xvcicpIHx8XG5cdGhhc0ZsYWcoJ25vLWNvbG9ycycpIHx8XG5cdGhhc0ZsYWcoJ2NvbG9yPWZhbHNlJykgfHxcblx0aGFzRmxhZygnY29sb3I9bmV2ZXInKSkge1xuXHRmb3JjZUNvbG9yID0gMDtcbn0gZWxzZSBpZiAoaGFzRmxhZygnY29sb3InKSB8fFxuXHRoYXNGbGFnKCdjb2xvcnMnKSB8fFxuXHRoYXNGbGFnKCdjb2xvcj10cnVlJykgfHxcblx0aGFzRmxhZygnY29sb3I9YWx3YXlzJykpIHtcblx0Zm9yY2VDb2xvciA9IDE7XG59XG5pZiAoJ0ZPUkNFX0NPTE9SJyBpbiBlbnYpIHtcblx0aWYgKGVudi5GT1JDRV9DT0xPUiA9PT0gdHJ1ZSB8fCBlbnYuRk9SQ0VfQ09MT1IgPT09ICd0cnVlJykge1xuXHRcdGZvcmNlQ29sb3IgPSAxO1xuXHR9IGVsc2UgaWYgKGVudi5GT1JDRV9DT0xPUiA9PT0gZmFsc2UgfHwgZW52LkZPUkNFX0NPTE9SID09PSAnZmFsc2UnKSB7XG5cdFx0Zm9yY2VDb2xvciA9IDA7XG5cdH0gZWxzZSB7XG5cdFx0Zm9yY2VDb2xvciA9IGVudi5GT1JDRV9DT0xPUi5sZW5ndGggPT09IDAgPyAxIDogTWF0aC5taW4ocGFyc2VJbnQoZW52LkZPUkNFX0NPTE9SLCAxMCksIDMpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZUxldmVsKGxldmVsKSB7XG5cdGlmIChsZXZlbCA9PT0gMCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0bGV2ZWwsXG5cdFx0aGFzQmFzaWM6IHRydWUsXG5cdFx0aGFzMjU2OiBsZXZlbCA+PSAyLFxuXHRcdGhhczE2bTogbGV2ZWwgPj0gM1xuXHR9O1xufVxuXG5mdW5jdGlvbiBzdXBwb3J0c0NvbG9yKHN0cmVhbSkge1xuXHRpZiAoZm9yY2VDb2xvciA9PT0gMCkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cblx0aWYgKGhhc0ZsYWcoJ2NvbG9yPTE2bScpIHx8XG5cdFx0aGFzRmxhZygnY29sb3I9ZnVsbCcpIHx8XG5cdFx0aGFzRmxhZygnY29sb3I9dHJ1ZWNvbG9yJykpIHtcblx0XHRyZXR1cm4gMztcblx0fVxuXG5cdGlmIChoYXNGbGFnKCdjb2xvcj0yNTYnKSkge1xuXHRcdHJldHVybiAyO1xuXHR9XG5cblx0aWYgKHN0cmVhbSAmJiAhc3RyZWFtLmlzVFRZICYmIGZvcmNlQ29sb3IgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cblx0Y29uc3QgbWluID0gZm9yY2VDb2xvciB8fCAwO1xuXG5cdGlmIChlbnYuVEVSTSA9PT0gJ2R1bWInKSB7XG5cdFx0cmV0dXJuIG1pbjtcblx0fVxuXG5cdGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XG5cdFx0Ly8gTm9kZS5qcyA3LjUuMCBpcyB0aGUgZmlyc3QgdmVyc2lvbiBvZiBOb2RlLmpzIHRvIGluY2x1ZGUgYSBwYXRjaCB0b1xuXHRcdC8vIGxpYnV2IHRoYXQgZW5hYmxlcyAyNTYgY29sb3Igb3V0cHV0IG9uIFdpbmRvd3MuIEFueXRoaW5nIGVhcmxpZXIgYW5kIGl0XG5cdFx0Ly8gd29uJ3Qgd29yay4gSG93ZXZlciwgaGVyZSB3ZSB0YXJnZXQgTm9kZS5qcyA4IGF0IG1pbmltdW0gYXMgaXQgaXMgYW4gTFRTXG5cdFx0Ly8gcmVsZWFzZSwgYW5kIE5vZGUuanMgNyBpcyBub3QuIFdpbmRvd3MgMTAgYnVpbGQgMTA1ODYgaXMgdGhlIGZpcnN0IFdpbmRvd3Ncblx0XHQvLyByZWxlYXNlIHRoYXQgc3VwcG9ydHMgMjU2IGNvbG9ycy4gV2luZG93cyAxMCBidWlsZCAxNDkzMSBpcyB0aGUgZmlyc3QgcmVsZWFzZVxuXHRcdC8vIHRoYXQgc3VwcG9ydHMgMTZtL1RydWVDb2xvci5cblx0XHRjb25zdCBvc1JlbGVhc2UgPSBvcy5yZWxlYXNlKCkuc3BsaXQoJy4nKTtcblx0XHRpZiAoXG5cdFx0XHROdW1iZXIocHJvY2Vzcy52ZXJzaW9ucy5ub2RlLnNwbGl0KCcuJylbMF0pID49IDggJiZcblx0XHRcdE51bWJlcihvc1JlbGVhc2VbMF0pID49IDEwICYmXG5cdFx0XHROdW1iZXIob3NSZWxlYXNlWzJdKSA+PSAxMDU4NlxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIE51bWJlcihvc1JlbGVhc2VbMl0pID49IDE0OTMxID8gMyA6IDI7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIDE7XG5cdH1cblxuXHRpZiAoJ0NJJyBpbiBlbnYpIHtcblx0XHRpZiAoWydUUkFWSVMnLCAnQ0lSQ0xFQ0knLCAnQVBQVkVZT1InLCAnR0lUTEFCX0NJJ10uc29tZShzaWduID0+IHNpZ24gaW4gZW52KSB8fCBlbnYuQ0lfTkFNRSA9PT0gJ2NvZGVzaGlwJykge1xuXHRcdFx0cmV0dXJuIDE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1pbjtcblx0fVxuXG5cdGlmICgnVEVBTUNJVFlfVkVSU0lPTicgaW4gZW52KSB7XG5cdFx0cmV0dXJuIC9eKDlcXC4oMCpbMS05XVxcZCopXFwufFxcZHsyLH1cXC4pLy50ZXN0KGVudi5URUFNQ0lUWV9WRVJTSU9OKSA/IDEgOiAwO1xuXHR9XG5cblx0aWYgKGVudi5DT0xPUlRFUk0gPT09ICd0cnVlY29sb3InKSB7XG5cdFx0cmV0dXJuIDM7XG5cdH1cblxuXHRpZiAoJ1RFUk1fUFJPR1JBTScgaW4gZW52KSB7XG5cdFx0Y29uc3QgdmVyc2lvbiA9IHBhcnNlSW50KChlbnYuVEVSTV9QUk9HUkFNX1ZFUlNJT04gfHwgJycpLnNwbGl0KCcuJylbMF0sIDEwKTtcblxuXHRcdHN3aXRjaCAoZW52LlRFUk1fUFJPR1JBTSkge1xuXHRcdFx0Y2FzZSAnaVRlcm0uYXBwJzpcblx0XHRcdFx0cmV0dXJuIHZlcnNpb24gPj0gMyA/IDMgOiAyO1xuXHRcdFx0Y2FzZSAnQXBwbGVfVGVybWluYWwnOlxuXHRcdFx0XHRyZXR1cm4gMjtcblx0XHRcdC8vIE5vIGRlZmF1bHRcblx0XHR9XG5cdH1cblxuXHRpZiAoLy0yNTYoY29sb3IpPyQvaS50ZXN0KGVudi5URVJNKSkge1xuXHRcdHJldHVybiAyO1xuXHR9XG5cblx0aWYgKC9ec2NyZWVufF54dGVybXxednQxMDB8XnZ0MjIwfF5yeHZ0fGNvbG9yfGFuc2l8Y3lnd2lufGxpbnV4L2kudGVzdChlbnYuVEVSTSkpIHtcblx0XHRyZXR1cm4gMTtcblx0fVxuXG5cdGlmICgnQ09MT1JURVJNJyBpbiBlbnYpIHtcblx0XHRyZXR1cm4gMTtcblx0fVxuXG5cdHJldHVybiBtaW47XG59XG5cbmZ1bmN0aW9uIGdldFN1cHBvcnRMZXZlbChzdHJlYW0pIHtcblx0Y29uc3QgbGV2ZWwgPSBzdXBwb3J0c0NvbG9yKHN0cmVhbSk7XG5cdHJldHVybiB0cmFuc2xhdGVMZXZlbChsZXZlbCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRzdXBwb3J0c0NvbG9yOiBnZXRTdXBwb3J0TGV2ZWwsXG5cdHN0ZG91dDogZ2V0U3VwcG9ydExldmVsKHByb2Nlc3Muc3Rkb3V0KSxcblx0c3RkZXJyOiBnZXRTdXBwb3J0TGV2ZWwocHJvY2Vzcy5zdGRlcnIpXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSAoZmxhZywgYXJndikgPT4ge1xuXHRhcmd2ID0gYXJndiB8fCBwcm9jZXNzLmFyZ3Y7XG5cdGNvbnN0IHByZWZpeCA9IGZsYWcuc3RhcnRzV2l0aCgnLScpID8gJycgOiAoZmxhZy5sZW5ndGggPT09IDEgPyAnLScgOiAnLS0nKTtcblx0Y29uc3QgcG9zID0gYXJndi5pbmRleE9mKHByZWZpeCArIGZsYWcpO1xuXHRjb25zdCB0ZXJtaW5hdG9yUG9zID0gYXJndi5pbmRleE9mKCctLScpO1xuXHRyZXR1cm4gcG9zICE9PSAtMSAmJiAodGVybWluYXRvclBvcyA9PT0gLTEgPyB0cnVlIDogcG9zIDwgdGVybWluYXRvclBvcyk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==